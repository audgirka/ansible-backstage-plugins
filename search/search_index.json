{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to Ansible-Backstage-Plugins Documentation","text":"<p>Ansible Backstage Plugins are custom plugins developed for Backstage \u2014 an open platform for building developer portals \u2014 to integrate and expose Ansible-related features (e.g., playbooks, collections, job runs, automation logs) inside the Backstage UI.</p> <p></p>"},{"location":"#licensing","title":"Licensing","text":"<p>ansible-backstage-plugins is licensed under the Apache License version 2. Refer to the LICENSE file for the full text.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#local-testing-with-backstage","title":"Local Testing with Backstage","text":"<p>To start the app locally, run:</p> <pre><code>./install-deps\n</code></pre> <p>Once the install step is done update <code>app-config.yaml</code> file with changes to <code>integrations.github.token</code> and other settings which are mentioned as <code>changeme</code>.</p> <p>Then start the project with</p> <pre><code>yarn start\n</code></pre>"},{"location":"features/external-authentication/","title":"External Authentication with AAP OAuth2","text":"<p>The External Authentication feature enables users to authenticate with Backstage using their Ansible Automation Platform (AAP) credentials through OAuth2. This integration provides seamless single sign-on (SSO) experience and ensures that user access is managed centrally through AAP.</p>"},{"location":"features/external-authentication/#overview","title":"Overview","text":"<p>The AAP OAuth2 authentication provider allows users to log into Backstage using their existing AAP accounts. This feature works in conjunction with the Users, Teams, and Organizations synchronization to provide a complete identity management solution.</p>"},{"location":"features/external-authentication/#key-features","title":"Key Features","text":"<ul> <li>OAuth2 Integration: Standards-based authentication using AAP's OAuth2 implementation</li> <li>Single Sign-On (SSO): Users authenticate once with AAP and gain access to Backstage</li> <li>Automatic User Creation: New users can be automatically created in the Backstage catalog</li> <li>Flexible Sign-In Resolvers: Multiple authentication strategies to fit different organizational needs</li> <li>Token Management: Secure handling of OAuth2 access and refresh tokens</li> <li>Profile Synchronization: User profile information is retrieved from AAP during authentication</li> </ul>"},{"location":"features/external-authentication/#prerequisites","title":"Prerequisites","text":"<p>Before configuring external authentication, ensure you have:</p> <ol> <li>AAP Instance: A running AAP instance with administrative access</li> <li>OAuth2 Application: An OAuth2 application configured in AAP</li> <li>Catalog Sync: The catalog backend module configured for user synchronization</li> <li>Network Access: Backstage can reach the AAP instance over HTTPS</li> </ol>"},{"location":"features/external-authentication/#aap-oauth2-application-setup","title":"AAP OAuth2 Application Setup","text":""},{"location":"features/external-authentication/#creating-the-oauth2-application","title":"Creating the OAuth2 Application","text":"<ol> <li>Access AAP Administration:</li> <li>Log into your AAP instance as an administrator</li> <li> <p>Navigate to Administration \u2192 OAuth Applications</p> </li> <li> <p>Create New Application:</p> </li> <li>Click Add to create a new OAuth2 application</li> <li>Fill in the required fields:</li> </ol> Field Value Description Name <code>Backstage RHDH</code> Descriptive name for the application Organization <code>Default</code> AAP organization (typically \"Default\") Authorization grant type <code>Authorization code</code> OAuth2 flow type Client type <code>Confidential</code> Secure client type for server-side apps Redirect URIs <code>https://your-backstage-domain.com/api/auth/rhaap/handler/frame</code> Backstage callback URL <ol> <li>Save and Record Credentials:</li> <li>After saving, note the Client ID and Client Secret</li> <li>These will be used in the Backstage configuration</li> </ol>"},{"location":"features/external-authentication/#redirect-uri-configuration","title":"Redirect URI Configuration","text":"<p>The redirect URI must match your Backstage deployment exactly:</p> <pre><code>https://your-backstage-domain.com/api/auth/rhaap/handler/frame\n</code></pre> <p>Examples:</p> <ul> <li>Production: <code>https://backstage.example.com/api/auth/rhaap/handler/frame</code></li> <li>Development: <code>https://localhost:3000/api/auth/rhaap/handler/frame</code></li> <li>RHDH: <code>https://rhdh-rhdh.apps.cluster.example.com/api/auth/rhaap/handler/frame</code></li> </ul>"},{"location":"features/external-authentication/#backstage-configuration","title":"Backstage Configuration","text":""},{"location":"features/external-authentication/#basic-configuration","title":"Basic Configuration","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code># Enable experimental redirect flow for better OAuth2 experience\nenableExperimentalRedirectFlow: true\n\n# Set AAP as the default sign-in page\nsignInPage: rhaap\n\nauth:\n  environment: development # or production\n  providers:\n    rhaap:\n      development: # Environment name\n        host: https://your-aap-instance.com\n        checkSSL: true # Set to false for self-signed certificates\n        clientId: ${AAP_OAUTH_CLIENT_ID}\n        clientSecret: ${AAP_OAUTH_CLIENT_SECRET}\n        signIn:\n          resolvers:\n            - resolver: allowNewAAPUserSignIn # Recommended resolver\n</code></pre>"},{"location":"features/external-authentication/#environment-variables","title":"Environment Variables","text":"<p>Set the following environment variables:</p> <pre><code># AAP OAuth2 credentials\nexport AAP_OAUTH_CLIENT_ID=\"&lt;your-client-id-from-aap&gt;\"\nexport AAP_OAUTH_CLIENT_SECRET=\"&lt;your-client-secret-from-aap&gt;\"\n</code></pre>"},{"location":"features/external-authentication/#advanced-configuration","title":"Advanced Configuration","text":"<pre><code>auth:\n  environment: development\n  providers:\n    rhaap:\n      development:\n        host: https://your-aap-instance.com\n        checkSSL: true\n        clientId: ${AAP_OAUTH_CLIENT_ID}\n        clientSecret: ${AAP_OAUTH_CLIENT_SECRET}\n        # Optional: Custom callback URL (defaults to auto-generated)\n        callbackUrl: https://your-backstage-domain.com/api/auth/rhaap/handler/frame\n        signIn:\n          resolvers:\n            # Choose one resolver based on your needs\n            - resolver: allowNewAAPUserSignIn # Auto-create users\n            # - resolver: usernameMatchingUser     # Only existing users\n</code></pre>"},{"location":"features/external-authentication/#sign-in-resolvers","title":"Sign-In Resolvers","text":"<p>The authentication provider supports different sign-in resolvers to handle user authentication strategies:</p>"},{"location":"features/external-authentication/#allownewaapusersignin-recommended","title":"allowNewAAPUserSignIn (Recommended)","text":"<p>Use Case: Organizations that want to automatically onboard new users from AAP.</p> <p>Behavior:</p> <ul> <li>Allows any valid AAP user to sign in</li> <li>Automatically creates user entities in Backstage catalog if they don't exist</li> <li>Retrieves user profile information from AAP</li> <li>Waits for catalog synchronization to complete</li> </ul> <p>Configuration:</p> <pre><code>signIn:\n  resolvers:\n    - resolver: allowNewAAPUserSignIn\n</code></pre> <p>Benefits:</p> <ul> <li>Seamless user onboarding</li> <li>No manual user management required</li> <li>Works well with catalog synchronization</li> </ul>"},{"location":"features/external-authentication/#usernamematchinguser","title":"usernameMatchingUser","text":"<p>Use Case: Organizations with strict user management that want to pre-approve users.</p> <p>Behavior:</p> <ul> <li>Only allows users who already exist in the Backstage catalog</li> <li>Requires manual user creation or catalog synchronization</li> <li>Provides tighter access control</li> </ul> <p>Configuration:</p> <pre><code>signIn:\n  resolvers:\n    - resolver: usernameMatchingUser\n</code></pre> <p>Benefits:</p> <ul> <li>Enhanced security through pre-approval</li> <li>Explicit user management</li> <li>No automatic user creation</li> </ul>"},{"location":"features/external-authentication/#authentication-flow","title":"Authentication Flow","text":""},{"location":"features/external-authentication/#user-experience","title":"User Experience","text":"<ol> <li>Access Backstage: User navigates to Backstage URL</li> <li>AAP Sign-In: Redirected to AAP OAuth2 authorization page</li> <li>Credential Entry: User enters AAP username and password</li> <li>Authorization: User grants permission to Backstage application</li> <li>Profile Retrieval: Backstage retrieves user profile from AAP</li> <li>Catalog Lookup: System checks/creates user in Backstage catalog</li> <li>Access Granted: User is signed into Backstage with appropriate permissions</li> </ol>"},{"location":"features/external-authentication/#technical-flow","title":"Technical Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Backstage\n    participant AAP\n    participant Catalog\n\n    User-&gt;&gt;Backstage: Access Backstage\n    Backstage-&gt;&gt;AAP: Redirect to OAuth2 authorize\n    User-&gt;&gt;AAP: Enter credentials\n    AAP-&gt;&gt;User: Authorization prompt\n    User-&gt;&gt;AAP: Grant permission\n    AAP-&gt;&gt;Backstage: Authorization code\n    Backstage-&gt;&gt;AAP: Exchange code for token\n    AAP-&gt;&gt;Backstage: Access token + user profile\n    Backstage-&gt;&gt;Catalog: Check/create user entity\n    Catalog-&gt;&gt;Backstage: User entity confirmed\n    Backstage-&gt;&gt;User: Authenticated session\n</code></pre>"},{"location":"features/external-authentication/#token-management","title":"Token Management","text":""},{"location":"features/external-authentication/#access-tokens","title":"Access Tokens","text":"<ul> <li>Purpose: Used to authenticate API requests to AAP</li> <li>Lifetime: Configurable in AAP (typically 1-24 hours)</li> <li>Storage: Securely stored in Backstage session</li> <li>Usage: Enables job template execution and resource access</li> </ul>"},{"location":"features/external-authentication/#refresh-tokens","title":"Refresh Tokens","text":"<ul> <li>Purpose: Used to obtain new access tokens without re-authentication</li> <li>Lifetime: Longer than access tokens (typically days to weeks)</li> <li>Automatic Refresh: Backstage automatically refreshes expired access tokens</li> <li>Security: Stored securely and rotated regularly</li> </ul>"},{"location":"features/external-authentication/#security-considerations","title":"Security Considerations","text":""},{"location":"features/external-authentication/#ssltls-configuration","title":"SSL/TLS Configuration","text":"<p>Production Environments:</p> <pre><code>rhaap:\n  development:\n    host: https://aap.example.com\n    checkSSL: true # Always true for production\n</code></pre> <p>Development/Testing:</p> <pre><code>rhaap:\n  development:\n    host: https://aap-dev.example.com\n    checkSSL: false # Only for self-signed certificates\n</code></pre>"},{"location":"features/external-authentication/#client-credentials-security","title":"Client Credentials Security","text":"<ul> <li>Storage: Use environment variables or secure secret management</li> <li>Rotation: Regularly rotate OAuth2 client secrets</li> <li>Access: Limit access to client credentials to authorized personnel</li> <li>Monitoring: Monitor OAuth2 application usage in AAP</li> </ul>"},{"location":"features/external-authentication/#network-security","title":"Network Security","text":"<ul> <li>HTTPS Only: Always use HTTPS for both AAP and Backstage</li> <li>Firewall Rules: Ensure proper network access between Backstage and AAP</li> <li>Certificate Validation: Use valid SSL certificates in production</li> </ul>"},{"location":"features/external-authentication/#troubleshooting","title":"Troubleshooting","text":""},{"location":"features/external-authentication/#common-issues","title":"Common Issues","text":"<p>Authentication fails with \"Invalid redirect URI\":</p> <ul> <li>Verify the redirect URI in AAP matches exactly: <code>https://your-domain/api/auth/rhaap/handler/frame</code></li> <li>Check for trailing slashes or protocol mismatches</li> <li>Ensure the domain matches your Backstage deployment</li> </ul> <p>Users can authenticate but have no permissions:</p> <ul> <li>Verify catalog synchronization is working</li> <li>Check that users exist in the Backstage catalog</li> <li>Review RBAC policies and group memberships</li> <li>Ensure the user is part of synchronized organizations/teams</li> </ul> <p>SSL certificate errors:</p> <ul> <li>For production: Use valid SSL certificates</li> <li>For development: Set <code>checkSSL: false</code> temporarily</li> <li>Verify certificate chain and validity</li> </ul> <p>Token expiration issues:</p> <ul> <li>Check AAP token lifetime settings</li> <li>Verify refresh token functionality</li> <li>Monitor token refresh logs</li> </ul>"},{"location":"features/external-authentication/#debugging-steps","title":"Debugging Steps","text":"<ol> <li>Check Configuration:</li> </ol> <pre><code># Verify environment variables\necho $AAP_OAUTH_CLIENT_ID\necho $AAP_OAUTH_CLIENT_SECRET\n</code></pre> <ol> <li>Verify AAP OAuth2 Application:</li> <li>Confirm application is active in AAP</li> <li>Check redirect URI configuration</li> <li> <p>Verify client type is \"Confidential\"</p> </li> <li> <p>Test Network Connectivity:</p> </li> </ol> <pre><code># Test AAP accessibility from Backstage\ncurl -k https://your-aap-instance.com/api/v2/ping/\n</code></pre> <ol> <li>Review Logs:</li> <li>Check Backstage backend logs for authentication errors</li> <li>Monitor AAP logs for OAuth2 requests</li> <li>Look for token refresh failures</li> </ol>"},{"location":"features/external-authentication/#log-analysis","title":"Log Analysis","text":"<p>Enable debug logging for authentication:</p> <pre><code>backend:\n  logging:\n    level: debug\n</code></pre> <p>Look for these log patterns:</p> <ul> <li><code>auth-backend-module-rhaap-provider</code>: Authentication flow logs</li> <li><code>OAuth2Strategy</code>: OAuth2 protocol logs</li> <li><code>backstage-rhaap-common</code>: AAP API interaction logs</li> </ul>"},{"location":"features/external-authentication/#integration-with-other-features","title":"Integration with Other Features","text":""},{"location":"features/external-authentication/#catalog-synchronization","title":"Catalog Synchronization","text":"<p>Authentication works seamlessly with user synchronization:</p> <pre><code># Combined configuration\ncatalog:\n  providers:\n    rhaap:\n      development:\n        orgs: Default\n        sync:\n          orgsUsersTeams:\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n\nauth:\n  providers:\n    rhaap:\n      development:\n        host: https://your-aap-instance.com\n        checkSSL: true\n        clientId: ${AAP_OAUTH_CLIENT_ID}\n        clientSecret: ${AAP_OAUTH_CLIENT_SECRET}\n        signIn:\n          resolvers:\n            - resolver: allowNewAAPUserSignIn\n</code></pre>"},{"location":"features/external-authentication/#job-template-execution","title":"Job Template Execution","text":"<p>Authenticated users can execute job templates using their AAP credentials:</p> <ul> <li>OAuth2 tokens are automatically used for job template execution</li> <li>User permissions in AAP determine job template access</li> <li>No additional credential configuration required</li> </ul>"},{"location":"features/external-authentication/#rbac-integration","title":"RBAC Integration","text":"<p>Use AAP authentication with Backstage RBAC:</p> <pre><code># Example RBAC policy\npolicy.csv: |\n  # AAP superusers have full access\n  p, group:default/aap-admins, catalog-entity, *, allow\n  p, group:default/aap-admins, scaffolder-template, *, allow\n\n  # Organization members have read access\n  p, group:default/default, catalog-entity, read, allow\n  p, group:default/default, scaffolder-template, use, allow\n</code></pre>"},{"location":"features/external-authentication/#best-practices","title":"Best Practices","text":""},{"location":"features/external-authentication/#configuration-management","title":"Configuration Management","text":"<ul> <li>Environment Separation: Use different OAuth2 applications for dev/staging/prod</li> <li>Secret Management: Use secure secret storage (Kubernetes secrets, HashiCorp Vault)</li> <li>Configuration Validation: Test configuration changes in development first</li> </ul>"},{"location":"features/external-authentication/#user-management","title":"User Management","text":"<ul> <li>Automatic Onboarding: Use <code>allowNewAAPUserSignIn</code> for seamless user experience</li> <li>Access Control: Combine with catalog sync for proper group memberships</li> <li>Regular Audits: Review user access and OAuth2 application usage</li> </ul>"},{"location":"features/external-authentication/#security-practices","title":"Security Practices","text":"<ul> <li>Regular Rotation: Rotate OAuth2 client secrets quarterly</li> <li>Monitor Access: Track authentication patterns and unusual activity</li> <li>Principle of Least Privilege: Grant minimal necessary permissions</li> <li>Secure Transport: Always use HTTPS in production environments</li> </ul>"},{"location":"features/external-authentication/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Token Caching: Leverage built-in token caching mechanisms</li> <li>Session Management: Configure appropriate session timeouts</li> <li>Load Balancing: Consider load balancer session affinity for OAuth2 flows</li> </ul>"},{"location":"features/external-authentication/#migration-guide","title":"Migration Guide","text":""},{"location":"features/external-authentication/#from-basic-authentication","title":"From Basic Authentication","text":"<p>If migrating from basic authentication:</p> <ol> <li>Configure OAuth2 Application in AAP</li> <li>Update Backstage Configuration to use AAP provider</li> <li>Test Authentication Flow in development</li> <li>Migrate User Accounts using catalog synchronization</li> <li>Update RBAC Policies to use AAP groups</li> <li>Deploy to Production with proper SSL certificates</li> </ol>"},{"location":"features/external-authentication/#from-other-oauth2-providers","title":"From Other OAuth2 Providers","text":"<p>When migrating from other OAuth2 providers:</p> <ol> <li>Maintain Existing Configuration during transition</li> <li>Add AAP Provider alongside existing providers</li> <li>Test User Migration with pilot group</li> <li>Update Sign-In Page to default to AAP</li> <li>Remove Old Providers after successful migration</li> </ol>"},{"location":"features/external-authentication/#api-reference","title":"API Reference","text":""},{"location":"features/external-authentication/#configuration-schema","title":"Configuration Schema","text":"<pre><code>interface AAPAuthConfig {\n  host: string; // AAP instance URL\n  checkSSL: boolean; // SSL certificate validation\n  clientId: string; // OAuth2 client ID\n  clientSecret: string; // OAuth2 client secret\n  callbackUrl?: string; // Custom callback URL\n  signIn: {\n    resolvers: Array&lt;{\n      resolver: 'allowNewAAPUserSignIn' | 'usernameMatchingUser';\n    }&gt;;\n  };\n}\n</code></pre>"},{"location":"features/external-authentication/#environment-variables_1","title":"Environment Variables","text":"Variable Required Description <code>AAP_OAUTH_CLIENT_ID</code> Yes OAuth2 client ID from AAP <code>AAP_OAUTH_CLIENT_SECRET</code> Yes OAuth2 client secret from AAP"},{"location":"features/external-authentication/#related-documentation","title":"Related Documentation","text":"<ul> <li>Users, Teams, and Organizations Sync - User catalog synchronization</li> <li>Job Template Execution - Executing AAP job templates</li> <li>Auth Provider Plugin - Auth provider plugin details</li> <li>Backstage Authentication - General Backstage authentication</li> <li>OAuth2 Best Practices - OAuth2 security guidelines</li> </ul> <p>REMOVED</p> <p>REMOVED</p>"},{"location":"features/feedback-configuration/","title":"Feedback Configuration","text":"<p>The Ansible Backstage plugins provide a configurable feedback system that allows users to submit sentiment feedback about their experience. This feature can be enabled or disabled through the Backstage configuration.</p>"},{"location":"features/feedback-configuration/#configuration","title":"Configuration","text":"<p>The feedback system is controlled by the <code>ansible.feedback.enabled</code> configuration option in your <code>app-config.yaml</code> file.</p>"},{"location":"features/feedback-configuration/#default-configuration","title":"Default Configuration","text":"<p>By default, the feedback system is disabled completely. If no configuration is provided, the feedback forms will not be displayed.</p>"},{"location":"features/feedback-configuration/#configuration-options","title":"Configuration Options","text":"<pre><code>ansible:\n  feedback:\n    enabled: false\n</code></pre> <p>When disabled:</p> <ul> <li>The feedback floating action button (FAB) will not be displayed</li> <li>Users will not be able to access the feedback modal</li> <li>No feedback forms will be rendered in the UI</li> </ul>"},{"location":"features/feedback-configuration/#enabling-feedback","title":"Enabling Feedback","text":"<p>To enable the feedback system, set the <code>enabled</code> option to <code>true</code>:</p> <pre><code>ansible:\n  feedback:\n    enabled: true\n</code></pre>"},{"location":"features/feedback-configuration/#where-feedback-appears","title":"Where Feedback Appears","text":"<p>The feedback system appears in two locations:</p> <ol> <li>Self-Service Plugin: A floating feedback button in the bottom-right corner of the self-service interface</li> <li>Backstage RHAAP Plugin: A floating feedback button in the bottom-right corner of the Ansible page</li> </ol>"},{"location":"features/feedback-configuration/#what-feedback-captures","title":"What Feedback Captures","text":"<p>When enabled, the feedback system captures:</p> <ul> <li>User Rating: A 1-5 star rating system</li> <li>Feedback Text: Detailed user comments about their experience</li> <li>Consent: User acknowledgment that feedback is shared with Red Hat</li> </ul>"},{"location":"features/feedback-configuration/#analytics-integration","title":"Analytics Integration","text":"<p>When feedback is submitted, it sends analytics events to the configured analytics provider:</p> <pre><code>analytics.captureEvent('feedback', 'sentiment', {\n  attributes: {\n    type: 'sentiment',\n    ratings: number, // 1-5 star rating\n    feedback: string, // user's detailed feedback\n  },\n});\n</code></pre>"},{"location":"features/feedback-configuration/#privacy-and-compliance","title":"Privacy and Compliance","text":"<p>The feedback system includes:</p> <ul> <li>Explicit consent checkbox</li> <li>Link to Red Hat's Privacy Policy</li> <li>Clear indication that feedback is shared with Red Hat for product improvement</li> </ul>"},{"location":"features/feedback-configuration/#configuration-examples","title":"Configuration Examples","text":"<pre><code>ansible:\n  feedback:\n    enabled: true # Default set to disabled\n</code></pre>"},{"location":"features/feedback-configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"features/feedback-configuration/#feedback-button-not-appearing","title":"Feedback Button Not Appearing","text":"<ol> <li>Check that <code>ansible.feedback.enabled</code> is set to <code>true</code> in your configuration</li> <li>Verify the configuration is properly loaded by checking the browser's developer tools</li> <li>Ensure you're using a recent version of the Ansible Backstage plugins</li> </ol>"},{"location":"features/feedback-configuration/#configuration-not-taking-effect","title":"Configuration Not Taking Effect","text":"<ol> <li>Restart the Backstage backend after changing configuration</li> <li>Clear browser cache and refresh the frontend</li> <li>Check for YAML syntax errors in your configuration file</li> </ol>"},{"location":"features/feedback-configuration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Self-Service Plugin Documentation</li> <li>Backstage RHAAP Plugin Documentation</li> </ul>"},{"location":"features/job-templates/","title":"Job Template Synchronization","text":"<p>The Job Template Synchronization feature enables automatic import and synchronization of job templates from Ansible Automation Platform (AAP) into Backstage. This integration creates executable templates in the Backstage catalog, allowing users to launch AAP job templates directly from the Backstage interface.</p>"},{"location":"features/job-templates/#overview","title":"Overview","text":"<p>Job templates from AAP are synchronized as Backstage <code>Template</code> entities with the <code>scaffolder.backstage.io/v1beta3</code> API version. Each job template becomes an executable template that users can run through Backstage's scaffolder interface, providing a self-service automation experience.</p>"},{"location":"features/job-templates/#key-features","title":"Key Features","text":"<ul> <li>Automatic Synchronization: Job templates are automatically imported from AAP on a configurable schedule</li> <li>Survey Integration: Job templates with surveys are supported with dynamic form generation</li> <li>Filtering Options: Sync can be filtered by organization, labels, and survey status</li> <li>Direct Execution: Templates can be launched directly from Backstage with AAP OAuth2 integration</li> <li>Real-time Status: Job execution status and results are displayed in Backstage</li> </ul>"},{"location":"features/job-templates/#configuration","title":"Configuration","text":""},{"location":"features/job-templates/#basic-configuration","title":"Basic Configuration","text":"<p>Add the following configuration to your <code>app-config.yaml</code>:</p> <pre><code>catalog:\n  providers:\n    rhaap:\n      development:\n        orgs: SIG-IDE # Organization name(s) to sync from\n        sync:\n          jobTemplates:\n            enabled: true\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n</code></pre>"},{"location":"features/job-templates/#advanced-configuration-options","title":"Advanced Configuration Options","text":"<pre><code>catalog:\n  providers:\n    rhaap:\n      development:\n        orgs: SIG-IDE\n        sync:\n          jobTemplates:\n            enabled: true\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n            # Optional: Filter by survey status\n            surveyEnabled: true # true, false, or omit for all\n            # Optional: Filter by labels\n            labels:\n              - production\n              - self-service\n              - approved\n</code></pre>"},{"location":"features/job-templates/#configuration-parameters","title":"Configuration Parameters","text":"Parameter Type Required Description <code>enabled</code> boolean Yes Enable/disable job template synchronization <code>schedule.frequency</code> object Yes How often to sync (e.g., <code>{ minutes: 60 }</code>) <code>schedule.timeout</code> object Yes Maximum sync duration (e.g., <code>{ minutes: 15 }</code>) <code>surveyEnabled</code> boolean No Filter templates by survey status <code>labels</code> array No Filter templates by specific labels"},{"location":"features/job-templates/#multiple-organizations","title":"Multiple Organizations","text":"<p>To sync from multiple organizations:</p> <pre><code>catalog:\n  providers:\n    rhaap:\n      development:\n        orgs:\n          - SIG-IDE\n          - DevOps-Team\n          - QA-Team\n        sync:\n          jobTemplates:\n            enabled: true\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n</code></pre>"},{"location":"features/job-templates/#entity-structure","title":"Entity Structure","text":"<p>Job templates are synchronized as Backstage <code>Template</code> entities with the following structure:</p> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  namespace: default\n  name: my-job-template\n  title: 'My Job Template'\n  description: 'Description from AAP job template'\n  aapJobTemplateId: 123\n  tags:\n    - ansible\n    - automation\n    - production\n  annotations:\n    backstage.io/managed-by-location: 'url:https://aap.example.com/execution/templates/job-template/123/details'\n    backstage.io/managed-by-origin-location: 'url:https://aap.example.com/execution/templates/job-template/123/details'\nspec:\n  type: service\n  parameters:\n    - title: 'Job Configuration'\n      required:\n        - token\n      properties:\n        token:\n          title: Token\n          type: string\n          ui:field: AAPTokenField\n          ui:widget: hidden\n        # Additional parameters based on job template configuration\n  steps:\n    - id: launch-job\n      name: 'My Job Template'\n      action: rhaap:launch-job-template\n      input:\n        token: ''${{ parameters.token }}''\n        values:\n          template: 'My Job Template'\n          # Additional input values\n  output:\n    text:\n      - title: 'Job executed successfully'\n        content: |\n          **Job ID:** ${{ steps['launch-job'].output.data.id }}\n          **Job STATUS:** ${{ steps['launch-job'].output.data.status }}\n</code></pre>"},{"location":"features/job-templates/#metadata-fields","title":"Metadata Fields","text":"<ul> <li>name: Sanitized job template name (spaces and special characters converted to hyphens)</li> <li>title: Original job template name from AAP</li> <li>description: Job template description from AAP</li> <li>aapJobTemplateId: AAP job template ID for reference</li> <li>tags: Labels from AAP converted to Backstage tags</li> <li>annotations: Links back to the original AAP job template</li> </ul>"},{"location":"features/job-templates/#dynamic-form-generation","title":"Dynamic Form Generation","text":"<p>The plugin automatically generates forms based on job template configuration:</p>"},{"location":"features/job-templates/#standard-parameters","title":"Standard Parameters","text":"<p>All job templates include these parameters:</p> <ul> <li>Token: OAuth2 token (automatically populated, hidden from user)</li> <li>Job Type: Run or Check mode (if <code>ask_job_type_on_launch</code> is enabled)</li> <li>Inventory: Target inventory (if <code>ask_inventory_on_launch</code> is enabled)</li> <li>Credentials: Required credentials (if <code>ask_credential_on_launch</code> is enabled)</li> <li>Execution Environment: EE selection (if <code>ask_execution_environment_on_launch</code> is enabled)</li> <li>Verbosity: Ansible verbosity level (if <code>ask_verbosity_on_launch</code> is enabled)</li> <li>Tags: Job tags (if <code>ask_tags_on_launch</code> is enabled)</li> <li>Skip Tags: Tags to skip (if <code>ask_skip_tags_on_launch</code> is enabled)</li> <li>Limit: Host limit pattern (if <code>ask_limit_on_launch</code> is enabled)</li> <li>Extra Variables: Additional variables (if <code>ask_variables_on_launch</code> is enabled)</li> </ul>"},{"location":"features/job-templates/#survey-integration","title":"Survey Integration","text":"<p>Job templates with surveys automatically include survey questions as form fields:</p> <pre><code># Example survey integration\nparameters:\n  - title: 'Survey Questions'\n    properties:\n      target_environment:\n        title: 'Target Environment'\n        description: 'Select deployment environment'\n        type: string\n        enum: ['dev', 'staging', 'prod']\n        default: 'dev'\n      confirmation:\n        title: 'Confirm Execution'\n        description: \"Type 'yes' to confirm\"\n        type: string\n        pattern: '^yes$'\n</code></pre>"},{"location":"features/job-templates/#filtering-options","title":"Filtering Options","text":""},{"location":"features/job-templates/#by-survey-status","title":"By Survey Status","text":"<p>Filter job templates based on whether they have surveys enabled:</p> <pre><code># Sync only templates with surveys\nsurveyEnabled: true\n\n# Sync only templates without surveys\nsurveyEnabled: false\n\n# Sync all templates (default)\n# surveyEnabled: (omit this field)\n</code></pre>"},{"location":"features/job-templates/#by-labels","title":"By Labels","text":"<p>Filter job templates by specific labels:</p> <pre><code>labels:\n  - production\n  - self-service\n  - approved\n</code></pre> <p>This configuration will sync only job templates that have at least one of the specified labels.</p>"},{"location":"features/job-templates/#by-exclude-labels","title":"By Exclude Labels","text":"<p>Exclude job templates with specific labels:</p> <pre><code>excludeLabels:\n  - deprecated\n  - experimental\n  - internal-only\n</code></pre> <p>This configuration will exclude job templates that have any of the specified labels from synchronization.</p> <p>Implementation Details:</p> <ul> <li>The plugin first attempts to use the AAP API parameter <code>not__labels__name__in</code> for server-side filtering</li> <li>If the API doesn't support this parameter, client-side filtering is applied as a fallback</li> <li>This ensures compatibility across different AAP versions</li> </ul> <p>Note: You can use both <code>labels</code> and <code>excludeLabels</code> together. The <code>labels</code> filter is applied first (include only templates with these labels), then the <code>excludeLabels</code> filter is applied (exclude templates with these labels from the result).</p>"},{"location":"features/job-templates/#by-organization","title":"By Organization","text":"<p>Filter by AAP organization:</p> <pre><code># Single organization\norgs: SIG-IDE\n\n# Multiple organizations\norgs:\n  - SIG-IDE\n  - DevOps-Team\n</code></pre>"},{"location":"features/job-templates/#user-interface","title":"User Interface","text":""},{"location":"features/job-templates/#discovering-job-templates","title":"Discovering Job Templates","text":"<ol> <li>Navigate to Create \u2192 Choose a template in Backstage</li> <li>Job templates appear with the \"service\" type</li> <li>Filter by tags to find specific automation templates</li> <li>Templates show AAP-specific metadata and descriptions</li> </ol>"},{"location":"features/job-templates/#executing-job-templates","title":"Executing Job Templates","text":"<ol> <li>Select a job template from the template catalog</li> <li>Fill out the generated form with required parameters</li> <li>Review configuration in the final step</li> <li>Click \"Create\" to launch the job in AAP</li> <li>View job execution results and status</li> </ol>"},{"location":"features/job-templates/#monitoring-execution","title":"Monitoring Execution","text":"<p>After launching a job template:</p> <ul> <li>Job ID: Unique identifier for the AAP job</li> <li>Status: Current execution status (pending, running, successful, failed)</li> <li>Output: Links to detailed job logs in AAP (if configured)</li> </ul>"},{"location":"features/job-templates/#troubleshooting","title":"Troubleshooting","text":""},{"location":"features/job-templates/#common-issues","title":"Common Issues","text":"<p>Templates not appearing in catalog:</p> <ul> <li>Check AAP connectivity and token permissions</li> <li>Verify organization names match exactly</li> <li>Review filter criteria (labels, survey status)</li> <li>Check sync schedule and logs</li> </ul> <p>Form fields missing:</p> <ul> <li>Ensure job template has \"Prompt on Launch\" options enabled in AAP</li> <li>Verify survey is properly configured and enabled</li> <li>Check for survey specification errors</li> </ul> <p>Job launch failures:</p> <ul> <li>Verify OAuth2 configuration between Backstage and AAP</li> <li>Check user permissions in AAP</li> <li>Ensure required credentials are available</li> <li>Validate inventory and execution environment access</li> </ul>"},{"location":"features/job-templates/#logging","title":"Logging","text":"<p>Enable debug logging to troubleshoot sync issues:</p> <pre><code>backend:\n  logging:\n    level: debug\n</code></pre> <p>Look for log entries from:</p> <ul> <li><code>plugin-catalog-rh-aap</code>: Job template provider logs</li> <li><code>backstage-rhaap-common</code>: AAP client logs</li> </ul>"},{"location":"features/job-templates/#manual-sync-trigger","title":"Manual Sync Trigger","text":"<p>To manually trigger a sync (useful for testing):</p> <ol> <li>Access the catalog backend API</li> <li>Call the refresh endpoint for the job template provider</li> <li>Monitor logs for sync progress and errors</li> </ol>"},{"location":"features/job-templates/#security-considerations","title":"Security Considerations","text":""},{"location":"features/job-templates/#token-management","title":"Token Management","text":"<ul> <li>Job templates use OAuth2 tokens for AAP authentication</li> <li>Tokens are automatically managed by the auth provider</li> <li>Users don't need to provide AAP credentials directly</li> </ul>"},{"location":"features/job-templates/#rbac-integration","title":"RBAC Integration","text":"<ul> <li>Job template access respects AAP RBAC policies</li> <li>Users can only see and execute templates they have permissions for</li> <li>Backstage RBAC can provide additional access controls</li> </ul>"},{"location":"features/job-templates/#audit-trail","title":"Audit Trail","text":"<ul> <li>All job executions are logged in both Backstage and AAP</li> <li>Job IDs provide traceability between systems</li> <li>User attribution is maintained through OAuth2 integration</li> </ul>"},{"location":"features/job-templates/#best-practices","title":"Best Practices","text":""},{"location":"features/job-templates/#template-organization","title":"Template Organization","text":"<ul> <li>Use consistent labeling in AAP for better filtering</li> <li>Group related templates with common labels</li> <li>Provide clear descriptions for self-service users</li> </ul>"},{"location":"features/job-templates/#survey-design","title":"Survey Design","text":"<ul> <li>Keep surveys simple and user-friendly</li> <li>Use validation patterns for critical inputs</li> <li>Provide helpful descriptions and examples</li> </ul>"},{"location":"features/job-templates/#sync-configuration","title":"Sync Configuration","text":"<ul> <li>Set appropriate sync frequency (avoid too frequent syncing)</li> <li>Use filtering to limit templates to relevant ones</li> <li>Monitor sync performance and adjust timeouts as needed</li> </ul>"},{"location":"features/job-templates/#user-experience","title":"User Experience","text":"<ul> <li>Train users on template discovery and execution</li> <li>Provide documentation for complex templates</li> <li>Set up monitoring for failed job executions</li> </ul>"},{"location":"features/job-templates/#api-reference","title":"API Reference","text":""},{"location":"features/job-templates/#scaffolder-action","title":"Scaffolder Action","text":"<p>The plugin provides the <code>rhaap:launch-job-template</code> scaffolder action:</p> <pre><code>- id: launch-job\n  name: Launch Job Template\n  action: rhaap:launch-job-template\n  input:\n    token: string # OAuth2 token\n    values:\n      template: string # Job template name\n      inventory: object # Inventory selection\n      credentials: array # Credential selection\n      extraVariables: object # Additional variables\n      # ... other job template parameters\n</code></pre>"},{"location":"features/job-templates/#configuration-schema","title":"Configuration Schema","text":"<p>The plugin validates configuration against the following schema:</p> <pre><code>interface JobTemplateConfig {\n  enabled: boolean;\n  schedule: {\n    frequency: { minutes: number } | { hours: number } | { days: number };\n    timeout: { minutes: number } | { hours: number };\n  };\n  surveyEnabled?: boolean;\n  labels?: string[];\n}\n</code></pre>"},{"location":"features/job-templates/#migration-guide","title":"Migration Guide","text":""},{"location":"features/job-templates/#from-manual-job-template-management","title":"From Manual Job Template Management","text":"<p>If you're currently managing job templates manually in Backstage:</p> <ol> <li>Enable the sync feature with <code>enabled: true</code></li> <li>Configure appropriate filters to avoid duplicates</li> <li>Remove manually created template entities</li> <li>Update any references to use the new synchronized templates</li> </ol>"},{"location":"features/job-templates/#upgrading-configuration","title":"Upgrading Configuration","text":"<p>When upgrading from older versions:</p> <ol> <li>Review new configuration options</li> <li>Update sync schedules if needed</li> <li>Consider adding label-based filtering</li> <li>Test sync functionality in development environment</li> </ol>"},{"location":"features/job-templates/#related-documentation","title":"Related Documentation","text":"<ul> <li>Catalog Backend Module - Main catalog synchronization</li> <li>Auth Provider - AAP OAuth2 authentication setup</li> <li>Scaffolder Actions - Additional scaffolder actions</li> <li>Self-Service Portal - Enhanced UI for job templates</li> </ul>"},{"location":"features/users-teams-organizations/","title":"Users, Teams, and Organizations Synchronization","text":"<p>The Users, Teams, and Organizations Synchronization feature automatically imports and synchronizes user accounts, team structures, and organizational hierarchies from Ansible Automation Platform (AAP) into Backstage. This integration ensures that your Backstage catalog reflects your AAP organizational structure and maintains consistent user and group management across both platforms.</p>"},{"location":"features/users-teams-organizations/#overview","title":"Overview","text":"<p>This synchronization feature creates Backstage entities that mirror your AAP organizational structure:</p> <ul> <li>Organizations \u2192 Backstage <code>Group</code> entities with type <code>organization</code></li> <li>Teams \u2192 Backstage <code>Group</code> entities with type <code>team</code></li> <li>Users \u2192 Backstage <code>User</code> entities with proper group memberships</li> </ul>"},{"location":"features/users-teams-organizations/#key-features","title":"Key Features","text":"<ul> <li>Automatic Synchronization: Users, teams, and organizations are automatically imported from AAP on a configurable schedule</li> <li>Hierarchical Structure: Maintains organizational hierarchy with proper parent-child relationships</li> <li>Group Memberships: Preserves team and organization memberships</li> <li>Superuser Management: Creates dynamic <code>aap-admins</code> group for AAP superusers</li> <li>RBAC Integration: Adds AAP-specific annotations for role-based access control</li> <li>Batch Processing: Efficiently handles large user bases with batch processing</li> </ul>"},{"location":"features/users-teams-organizations/#configuration","title":"Configuration","text":""},{"location":"features/users-teams-organizations/#basic-configuration","title":"Basic Configuration","text":"<p>Add the following configuration to your <code>app-config.yaml</code>:</p> <pre><code>catalog:\n  providers:\n    rhaap:\n      development:\n        orgs: Default # Organization name(s) to sync from\n        sync:\n          orgsUsersTeams:\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n</code></pre>"},{"location":"features/users-teams-organizations/#advanced-configuration-options","title":"Advanced Configuration Options","text":"<pre><code>catalog:\n  providers:\n    rhaap:\n      development:\n        # Single organization\n        orgs: Default\n\n        # Multiple organizations\n        # orgs:\n        #   - Default\n        #   - DevOps-Team\n        #   - QA-Team\n\n        sync:\n          orgsUsersTeams:\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n</code></pre>"},{"location":"features/users-teams-organizations/#configuration-parameters","title":"Configuration Parameters","text":"Parameter Type Required Description <code>orgs</code> string or array Yes Organization name(s) to synchronize from AAP <code>schedule.frequency</code> object Yes How often to sync (e.g., <code>{ minutes: 60 }</code>) <code>schedule.timeout</code> object Yes Maximum sync duration (e.g., <code>{ minutes: 15 }</code>)"},{"location":"features/users-teams-organizations/#multiple-organizations","title":"Multiple Organizations","text":"<p>To sync from multiple organizations, use an array format:</p> <pre><code>catalog:\n  providers:\n    rhaap:\n      development:\n        orgs:\n          - Default\n          - DevOps-Team\n          - QA-Team\n        sync:\n          orgsUsersTeams:\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n</code></pre>"},{"location":"features/users-teams-organizations/#entity-structures","title":"Entity Structures","text":""},{"location":"features/users-teams-organizations/#organization-entities","title":"Organization Entities","text":"<p>Organizations from AAP are synchronized as Backstage <code>Group</code> entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Group\nmetadata:\n  namespace: default\n  name: default\n  title: 'Default'\n  annotations:\n    backstage.io/managed-by-location: 'url:https://aap.example.com/access/organizations/1/details'\n    backstage.io/managed-by-origin-location: 'url:https://aap.example.com/access/organizations/1/details'\nspec:\n  type: organization\n  children:\n    - devops-team\n    - qa-team\n  members:\n    - john.doe\n    - jane.smith\n</code></pre> <p>Key Fields:</p> <ul> <li>name: Sanitized organization name (lowercase, spaces to hyphens)</li> <li>title: Original organization name from AAP</li> <li>type: Always <code>organization</code></li> <li>children: List of team names within the organization</li> <li>members: List of usernames who are direct organization members</li> </ul>"},{"location":"features/users-teams-organizations/#team-entities","title":"Team Entities","text":"<p>Teams from AAP are synchronized as Backstage <code>Group</code> entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Group\nmetadata:\n  namespace: default\n  name: devops-team\n  title: 'DevOps Team'\n  description: 'DevOps and Infrastructure Team'\n  annotations:\n    backstage.io/managed-by-location: 'url:https://aap.example.com/access/teams/5/details'\n    backstage.io/managed-by-origin-location: 'url:https://aap.example.com/access/teams/5/details'\nspec:\n  type: team\n  children: []\n  members:\n    - alice.johnson\n    - bob.wilson\n</code></pre> <p>Key Fields:</p> <ul> <li>name: Sanitized team name (lowercase, spaces to hyphens)</li> <li>title: Original team name from AAP</li> <li>description: Team description from AAP (if available)</li> <li>type: Always <code>team</code></li> <li>members: List of usernames who are team members</li> </ul>"},{"location":"features/users-teams-organizations/#user-entities","title":"User Entities","text":"<p>Users from AAP are synchronized as Backstage <code>User</code> entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: User\nmetadata:\n  namespace: default\n  name: john.doe\n  title: 'John Doe'\n  annotations:\n    backstage.io/managed-by-location: 'url:https://aap.example.com/access/users/123/details'\n    backstage.io/managed-by-origin-location: 'url:https://aap.example.com/access/users/123/details'\n    aap.platform/is_superuser: 'false'\nspec:\n  profile:\n    username: john.doe\n    displayName: 'John Doe'\n    email: 'john.doe@example.com'\n  memberOf:\n    - default\n    - devops-team\n</code></pre> <p>Key Fields:</p> <ul> <li>name: AAP username</li> <li>title: Full name (first + last name) or username if names not available</li> <li>profile.username: AAP username</li> <li>profile.displayName: Full name or username</li> <li>profile.email: User's email address from AAP</li> <li>memberOf: List of groups (organizations and teams) the user belongs to</li> </ul>"},{"location":"features/users-teams-organizations/#superuser-handling","title":"Superuser Handling","text":"<p>AAP superusers receive special treatment:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: User\nmetadata:\n  name: admin.user\n  annotations:\n    aap.platform/is_superuser: 'true' # \u2190 Superuser annotation\nspec:\n  memberOf:\n    - default\n    - devops-team\n    - aap-admins # \u2190 Automatic membership in aap-admins group\n</code></pre> <p>The <code>aap-admins</code> group is dynamically created and includes all AAP superusers, enabling RBAC policies based on AAP administrative privileges.</p>"},{"location":"features/users-teams-organizations/#synchronization-process","title":"Synchronization Process","text":""},{"location":"features/users-teams-organizations/#data-flow","title":"Data Flow","text":"<ol> <li>Organization Discovery: Fetches organizations matching the configured <code>orgs</code> filter</li> <li>Team Retrieval: For each organization, retrieves all associated teams</li> <li>User Collection: Collects users from both organization and team memberships</li> <li>Batch Processing: Processes users in batches of 100 to avoid API overload</li> <li>Entity Creation: Creates Backstage entities with proper relationships</li> <li>Catalog Update: Updates the Backstage catalog with new/updated entities</li> </ol>"},{"location":"features/users-teams-organizations/#membership-resolution","title":"Membership Resolution","text":"<p>The sync process handles complex membership scenarios:</p> <ul> <li>Organization Members: Users directly assigned to organizations</li> <li>Team Members: Users assigned to teams within organizations</li> <li>Duplicate Handling: Users appearing in multiple teams are deduplicated</li> <li>Membership Tracking: Maintains accurate <code>memberOf</code> relationships</li> </ul>"},{"location":"features/users-teams-organizations/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Batch Processing: Users are processed in batches of 100 to prevent API timeouts</li> <li>Parallel Requests: Team and user data is fetched in parallel where possible</li> <li>Efficient Deduplication: Uses unique user IDs to avoid duplicate processing</li> <li>Incremental Updates: Only updates entities that have changed</li> </ul>"},{"location":"features/users-teams-organizations/#user-interface-integration","title":"User Interface Integration","text":""},{"location":"features/users-teams-organizations/#discovering-users-and-groups","title":"Discovering Users and Groups","text":"<ol> <li>Navigate to Catalog in Backstage</li> <li>Filter by Kind:</li> <li>Select User to see synchronized users</li> <li>Select Group to see organizations and teams</li> <li>Use the search functionality to find specific users or groups</li> <li>View entity details to see memberships and relationships</li> </ol>"},{"location":"features/users-teams-organizations/#user-profiles","title":"User Profiles","text":"<p>Synchronized users appear with:</p> <ul> <li>Profile Information: Name, email, username from AAP</li> <li>Group Memberships: Organizations and teams they belong to</li> <li>AAP Links: Direct links to user details in AAP</li> <li>Superuser Status: Visible through annotations and group membership</li> </ul>"},{"location":"features/users-teams-organizations/#group-hierarchies","title":"Group Hierarchies","text":"<p>Organizations and teams maintain their hierarchical structure:</p> <ul> <li>Organizations show child teams and direct members</li> <li>Teams show their members and parent organization</li> <li>Navigation allows browsing the organizational structure</li> </ul>"},{"location":"features/users-teams-organizations/#rbac-integration","title":"RBAC Integration","text":""},{"location":"features/users-teams-organizations/#aap-superuser-integration","title":"AAP Superuser Integration","text":"<p>The sync creates an <code>aap-admins</code> group containing all AAP superusers:</p> <pre><code># Example RBAC policy\npolicy.csv: |\n  p, group:default/aap-admins, catalog-entity, read, allow\n  p, group:default/aap-admins, catalog-entity, create, allow\n  p, group:default/aap-admins, catalog-entity, update, allow\n  p, group:default/aap-admins, catalog-entity, delete, allow\n</code></pre>"},{"location":"features/users-teams-organizations/#organization-based-permissions","title":"Organization-Based Permissions","text":"<p>Use organization groups for department-level permissions:</p> <pre><code># Example: Default organization permissions\npolicy.csv: |\n  p, group:default/default, catalog-entity, read, allow\n  p, group:default/default, scaffolder-template, use, allow\n</code></pre>"},{"location":"features/users-teams-organizations/#team-based-permissions","title":"Team-Based Permissions","text":"<p>Use team groups for project-level permissions:</p> <pre><code># Example: DevOps team permissions\npolicy.csv: |\n  p, group:default/devops-team, kubernetes-cluster, read, allow\n  p, group:default/devops-team, deployment-pipeline, execute, allow\n</code></pre>"},{"location":"features/users-teams-organizations/#troubleshooting","title":"Troubleshooting","text":""},{"location":"features/users-teams-organizations/#common-issues","title":"Common Issues","text":"<p>Users not appearing in catalog:</p> <ul> <li>Check AAP connectivity and token permissions</li> <li>Verify organization names match exactly (case-sensitive)</li> <li>Review sync schedule and logs for errors</li> <li>Ensure users have proper organization/team memberships in AAP</li> </ul> <p>Group memberships incorrect:</p> <ul> <li>Check team assignments in AAP</li> <li>Verify organization membership settings</li> <li>Review batch processing logs for errors</li> <li>Ensure AAP API returns complete membership data</li> </ul> <p>Sync performance issues:</p> <ul> <li>Adjust batch size if processing large user bases</li> <li>Increase sync timeout for large organizations</li> <li>Monitor AAP API rate limits</li> <li>Consider reducing sync frequency for stable environments</li> </ul> <p>Missing superuser privileges:</p> <ul> <li>Verify <code>is_superuser</code> flag is set correctly in AAP</li> <li>Check <code>aap-admins</code> group creation in logs</li> <li>Ensure RBAC policies reference the correct group name</li> </ul>"},{"location":"features/users-teams-organizations/#logging-and-monitoring","title":"Logging and Monitoring","text":"<p>Enable debug logging to troubleshoot sync issues:</p> <pre><code>backend:\n  logging:\n    level: debug\n</code></pre> <p>Monitor these log entries:</p> <ul> <li><code>plugin-catalog-rhaap</code>: Main sync process logs</li> <li><code>backstage-rhaap-common</code>: AAP API interaction logs</li> </ul>"},{"location":"features/users-teams-organizations/#manual-sync-trigger","title":"Manual Sync Trigger","text":"<p>To manually trigger a sync (useful for testing):</p> <ol> <li>Access the catalog backend API</li> <li>Call the refresh endpoint for the AAP entity provider</li> <li>Monitor logs for sync progress and any errors</li> </ol>"},{"location":"features/users-teams-organizations/#security-considerations","title":"Security Considerations","text":""},{"location":"features/users-teams-organizations/#token-management","title":"Token Management","text":"<ul> <li>Use AAP tokens with minimal required permissions (read access to users, teams, organizations)</li> <li>Rotate tokens regularly according to your security policy</li> <li>Store tokens securely using Backstage's secret management</li> </ul>"},{"location":"features/users-teams-organizations/#data-privacy","title":"Data Privacy","text":"<ul> <li>User email addresses and names are synchronized from AAP</li> <li>Ensure compliance with your organization's data privacy policies</li> <li>Consider data retention policies for synchronized user information</li> </ul>"},{"location":"features/users-teams-organizations/#access-control","title":"Access Control","text":"<ul> <li>Synchronized groups can be used in RBAC policies</li> <li>Superuser status is preserved and can be used for administrative access</li> <li>Regular auditing of group memberships is recommended</li> </ul>"},{"location":"features/users-teams-organizations/#best-practices","title":"Best Practices","text":""},{"location":"features/users-teams-organizations/#organization-structure","title":"Organization Structure","text":"<ul> <li>Use clear, consistent naming conventions in AAP</li> <li>Maintain clean team hierarchies for better Backstage navigation</li> <li>Regularly review and clean up unused teams and organizations</li> </ul>"},{"location":"features/users-teams-organizations/#sync-configuration","title":"Sync Configuration","text":"<ul> <li>Set appropriate sync frequency based on organizational change rate</li> <li>Use longer timeouts for large organizations with many users</li> <li>Monitor sync performance and adjust batch sizes if needed</li> </ul>"},{"location":"features/users-teams-organizations/#user-management","title":"User Management","text":"<ul> <li>Maintain accurate user information in AAP (names, emails)</li> <li>Use AAP's team structure to organize users logically</li> <li>Regularly audit superuser assignments</li> </ul>"},{"location":"features/users-teams-organizations/#rbac-design","title":"RBAC Design","text":"<ul> <li>Design RBAC policies around organizational structure</li> <li>Use both organization and team groups for granular permissions</li> <li>Leverage the <code>aap-admins</code> group for administrative functions</li> <li>Test RBAC policies thoroughly before production deployment</li> </ul>"},{"location":"features/users-teams-organizations/#api-reference","title":"API Reference","text":""},{"location":"features/users-teams-organizations/#configuration-schema","title":"Configuration Schema","text":"<p>The plugin validates configuration against the following schema:</p> <pre><code>interface OrgsUsersTeamsConfig {\n  schedule: {\n    frequency: { minutes: number } | { hours: number } | { days: number };\n    timeout: { minutes: number } | { hours: number };\n  };\n}\n\ninterface CatalogProviderConfig {\n  orgs: string | string[];\n  sync: {\n    orgsUsersTeams: OrgsUsersTeamsConfig;\n  };\n}\n</code></pre>"},{"location":"features/users-teams-organizations/#entity-annotations","title":"Entity Annotations","text":"<p>The plugin adds these annotations to synchronized entities:</p> <ul> <li><code>backstage.io/managed-by-location</code>: Link to AAP entity details</li> <li><code>backstage.io/managed-by-origin-location</code>: Original AAP entity location</li> <li><code>aap.platform/is_superuser</code>: User superuser status (users only)</li> </ul>"},{"location":"features/users-teams-organizations/#migration-guide","title":"Migration Guide","text":""},{"location":"features/users-teams-organizations/#from-manual-user-management","title":"From Manual User Management","text":"<p>If you're currently managing users manually in Backstage:</p> <ol> <li>Enable the sync feature with <code>enabled: true</code></li> <li>Configure appropriate organization filters</li> <li>Remove manually created user and group entities</li> <li>Update RBAC policies to use synchronized group names</li> <li>Test user access and permissions thoroughly</li> </ol>"},{"location":"features/users-teams-organizations/#upgrading-configuration","title":"Upgrading Configuration","text":"<p>When upgrading from older versions:</p> <ol> <li>Review new configuration options</li> <li>Update sync schedules if needed</li> <li>Test sync functionality in development environment</li> <li>Monitor sync performance after upgrade</li> </ol>"},{"location":"features/users-teams-organizations/#related-documentation","title":"Related Documentation","text":"<ul> <li>Job Template Synchronization - Job template sync feature</li> <li>Auth Provider - AAP OAuth2 authentication setup</li> <li>Catalog Backend Module - Main catalog synchronization plugin</li> <li>RBAC Configuration - Backstage RBAC setup</li> </ul>"},{"location":"plugins/auth/","title":"auth-backend-module-rhaap-provider","text":"<p>The auth-backend-module-rhaap-provider is an authentication plugin for Red Hat Ansible Automation Platform (AAP) that enables OAuth2-based single sign-on (SSO) integration with Backstage.</p>"},{"location":"plugins/auth/#overview","title":"Overview","text":"<p>This plugin provides external authentication capabilities using AAP's OAuth2 implementation, allowing users to authenticate with Backstage using their existing AAP credentials.</p> <p>Note: This plugin handles authentication only. For complete AAP integration, you also need:</p> <ul> <li><code>catalog-backend-module-rhaap</code> for user/team synchronization</li> <li>Proper RBAC configuration for access control</li> </ul> <p>For comprehensive setup and configuration instructions, see the External Authentication Documentation.</p>"},{"location":"plugins/auth/#installation","title":"Installation","text":"<p>Build plugin as a dynamic plugin. Then configure your RHDH to load tar.gz with the plugin.</p>"},{"location":"plugins/auth/#configuration","title":"Configuration","text":""},{"location":"plugins/auth/#aap-create-oauth2-application","title":"AAP, Create OAuth2 application","text":"<p>OAuth2 application needs to be created in the AAP. Required properties:</p> <ul> <li>Organization: Default</li> <li>Authorization grant type: Authorization code</li> <li>Client type: confidential</li> <li>Redirect URIs: \"https://RHDH_IP_OR_DNS_NAME/api/auth/rhaap/handler/frame\"</li> </ul>"},{"location":"plugins/auth/#rhdh","title":"RHDH,","text":"<p>Fragment for <code>app-config.local.yaml</code>:</p> <pre><code>enableExperimentalRedirectFlow: true\nsignInPage: rhaap\nauth:\n  environment: development\n  providers:\n    rhaap:\n      host: { $AAP_URL }\n      checkSSL: false\n      clientId: { $AAP_OAUTH_CLIENT_ID }\n      clientSecret: { $AAP_OAUTH_CLIENT_SECRET }\n      signIn:\n        resolvers:\n          - resolver: usernameMatchingUser\n</code></pre>"},{"location":"plugins/auth/#detailed-documentation","title":"Detailed Documentation","text":"<p>For comprehensive configuration, troubleshooting, and advanced usage, see:</p> <ul> <li>External Authentication Documentation - Complete setup and configuration guide</li> <li>Users, Teams, and Organizations Sync - User catalog synchronization</li> <li>Job Template Execution - Executing AAP job templates with authenticated users</li> </ul>"},{"location":"plugins/backstage-frontend/","title":"backstage-rhaap","text":"<p>The backstage-rhaap frontend plugin enables the Ansible sidebar option and provides access to the frontend plugin</p> <p>Note: This plugin was created through the Backstage CLI</p>"},{"location":"plugins/backstage-frontend/#installation-with-upstream-backstage","title":"Installation - with upstream backstage","text":"<p>The plugin is tested with backstage version '1.27.7'</p>"},{"location":"plugins/backstage-frontend/#setup-backstage","title":"Setup backstage","text":"<pre><code>git clone git@github.com:backstage/backstage.git\ncd backstage\nyarn install\n</code></pre> <p>Note: This has been tested with node version v18.19.0.</p>"},{"location":"plugins/backstage-frontend/#configure-backstage-with-the-github-authentication","title":"Configure Backstage with the GitHub authentication","text":"<p>Refer https://backstage.io/docs/auth/github/provider</p>"},{"location":"plugins/backstage-frontend/#add-the-package","title":"Add the package","text":"<pre><code># From your Backstage root directory\nyarn --cwd packages/backend add @ansible/plugin-backstage-rhaap\n</code></pre> <p>Or</p> <pre><code>cd plugins/backstage-rhaap\nyarn install\n</code></pre> <p>Add the following line in the <code>dependencies</code> section of the <code>packages/app/package.json</code> file.</p> <pre><code>     \"@backstage/plugin-azure-sites-common\": \"workspace:^\",\n+    \"@ansible/plugin-backstage-rhaap\": \"^x.y.z\",\n     \"@backstage/plugin-badges-backend\": \"workspace:^\",\n</code></pre>"},{"location":"plugins/backstage-frontend/#adding-the-plugin-to-your-packagesapp","title":"Adding the plugin to your <code>packages/app</code>","text":"<p>Add the Ansible plugin route in the <code>packages/app/src/App.tsx</code> file as shown in the following <code>diff</code> output.</p> <pre><code>% git diff packages/app/src/App.tsx\ndiff --git a/packages/app/src/App.tsx b/packages/app/src/App.tsx\nindex 3d8bd45e5aab..752e5e2e9190 100644\n--- a/packages/app/src/App.tsx\n+++ b/packages/app/src/App.tsx\n@@ -108,6 +108,7 @@ import { DevToolsPage } from '@backstage/plugin-devtools';\n import { customDevToolsPage } from './components/devtools/CustomDevToolsPage';\n import { CatalogUnprocessedEntitiesPage } from '@backstage/plugin-catalog-unprocessed-entities';\n import { NotificationsPage } from '@backstage/plugin-notifications';\n+import { AnsiblePage } from '@ansible.plugin-backstage-rhaap';\n\n const app = createApp({\n   apis,\n@@ -274,6 +275,7 @@ const routes = (\n       {customDevToolsPage}\n     &lt;/Route&gt;\n     &lt;Route path=\"/notifications\" element={&lt;NotificationsPage /&gt;} /&gt;\n+    &lt;Route path=\"/ansible\" element={&lt;AnsiblePage /&gt;} /&gt;\n   &lt;/FlatRoutes&gt;\n );\n</code></pre> <p>Register the plugin in the sidebar navigation by applying the following <code>diff</code> in the <code>packages/app/src/components/Root/Root.tsx</code> file.</p> <pre><code>% git diff  packages/app/src/components/Root/Root.tsx\ndiff --git a/packages/app/src/components/Root/Root.tsx b/packages/app/src/components/Root/Root.tsx\nindex 6294aa785671..f23085e4e0cb 100644\n--- a/packages/app/src/components/Root/Root.tsx\n+++ b/packages/app/src/components/Root/Root.tsx\n@@ -53,6 +53,7 @@ import Score from '@material-ui/icons/Score';\n import { useApp } from '@backstage/core-plugin-api';\n import BuildIcon from '@material-ui/icons/Build';\n import { NotificationsSidebarItem } from '@backstage/plugin-notifications';\n+import { AnsibleLogo } from '@ansible.plugin-backstage-rhaap'\n\n const useSidebarLogoStyles = makeStyles({\n   root: {\n@@ -164,6 +165,7 @@ export const Root = ({ children }: PropsWithChildren&lt;{}&gt;) =&gt; (\n             text=\"Cost Insights\"\n           /&gt;\n           &lt;SidebarItem icon={Score} to=\"score-board\" text=\"Score board\" /&gt;\n+          &lt;SidebarItem icon={AnsibleLogo} to=\"ansible\" text=\"Ansible\" /&gt;\n         &lt;/SidebarScrollWrapper&gt;\n         &lt;SidebarDivider /&gt;\n         &lt;Shortcuts allowExternalLinks /&gt;\n</code></pre> <p>Update the apis.ts to enable analytics, follow the changes in the <code>diff</code> add it to the file at <code>packages/app/src/apis.ts</code>.</p> <pre><code>+\n import {\n   ScmIntegrationsApi,\n   scmIntegrationsApiRef,\n@@ -21,11 +22,14 @@ import {\n } from '@backstage/integration-react';\n import {\n   AnyApiFactory,\n+  analyticsApiRef,\n   configApiRef,\n   createApiFactory,\n   discoveryApiRef,\n+  identityApiRef,\n } from '@backstage/core-plugin-api';\n import { AuthProxyDiscoveryApi } from './AuthProxyDiscoveryApi';\n+import { AnsibleSegmentAnalytics } from '@janus-idp/backstage-plugin-ansible';\n\n export const apis: AnyApiFactory[] = [\n   createApiFactory({\n@@ -38,6 +42,11 @@ export const apis: AnyApiFactory[] = [\n     deps: { configApi: configApiRef },\n     factory: ({ configApi }) =&gt; ScmIntegrationsApi.fromConfig(configApi),\n   }),\n-\n+  createApiFactory({\n+    api: analyticsApiRef,\n+    deps: { configApi: configApiRef, identityApi: identityApiRef },\n+    factory: ({ configApi, identityApi }) =&gt;\n+      AnsibleSegmentAnalytics.fromConfig(configApi, identityApi),\n+  }),\n   ScmAuth.createDefaultApiFactory(),\n ];\n</code></pre>"},{"location":"plugins/backstage-frontend/#start-frontend-and-backend","title":"Start frontend and backend","text":"<p>Run the following commands in separate terminals from the root folder of backstage.</p> <p>Frontend</p> <pre><code>yarn start\n</code></pre> <p>Backend</p> <pre><code>yarn start-backend\n</code></pre> <p>Backend - VS Code debug</p> <p>Enable &gt; Auto Attach: With Flag</p> <pre><code>yarn start-backend --inspect\n</code></pre>"},{"location":"plugins/backstage-frontend/#installation-with-rhdh","title":"Installation - with rhdh","text":"<p>Refer to the step mentioned here https://github.com//blob/main/docs/dynamic-plugins/packaging-dynamic-plugins.md</p>"},{"location":"plugins/backstage-frontend/#plugin-registration-with","title":"Plugin registration with","text":"<ul> <li>Update the below section in <code>app-config.local.yaml</code> file</li> </ul> <pre><code>dynamicPlugins:\n  frontend:\n    ansible.plugin-backstage-rhaap:\n      appIcons:\n        - importName: AnsibleLogo\n          name: AnsibleLogo\n      dynamicRoutes:\n        - importName: AnsiblePage\n          menuItem:\n            icon: AnsibleLogo\n            text: Ansible\n          path: /ansible\n</code></pre>"},{"location":"plugins/backstage-frontend/#start-the-front-end-and-backend-by-running-the-command-in-the-root-folder-of-rhdh-cloned-repository-path","title":"Start the front end and backend by running the command in the root folder of <code>rhdh</code> cloned repository path.","text":"<pre><code>LOG_LEVEL=debug yarn start\n</code></pre>"},{"location":"plugins/backstage-frontend/#aap-secrets-configuration-setup","title":"AAP secrets configuration setup","text":"<p>Add Ansible Automation Platform (AAP) controller configuration in <code>app-config.yaml</code> file. The analytics tag is required to enable analytics.</p> <pre><code>ansible:\n  analytics:\n    enabled: true\n  rhaap:\n    baseUrl: '&lt;AAP controller base URL&gt;'\n    token: '&lt;access token&gt;'\n    checkSSL: true\n</code></pre>"},{"location":"plugins/catalog/","title":"catalog-backend-module-rhaap","text":"<p>The catalog-backend-module-rhaap plugin synchronizes users, teams, organizations, and job templates from AAP into RHDH / Ansible Self-Service.</p>"},{"location":"plugins/catalog/#installation","title":"Installation","text":"<p>Build plugin as a dynamic plugin. Then configure your RHDH to load tar.gz with the plugin.</p>"},{"location":"plugins/catalog/#aap-create-token","title":"AAP, Create token","text":"<p>Plugin needs access to AAP. Create a token as admin user:</p> <ul> <li>AAP UI, top left corner, click username, User details</li> <li>Select tab Tokens, click Create token</li> <li>Required properties:</li> <li>OAuth application: leave empty</li> <li>Scope: read</li> </ul> <p>Use token value as <code>AAP_TOKEN</code></p>"},{"location":"plugins/catalog/#rhdh","title":"RHDH","text":"<p>Fragment for <code>app-config.local.yaml</code>:</p> <pre><code>catalog:\n  providers:\n    rhaap:\n      development:\n        orgs: Default\n        sync:\n          # Sync users, teams, and organizations\n          orgsUsersTeams:\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\n          # Sync job templates (optional)\n          jobTemplates:\n            enabled: true\n            schedule:\n              frequency: { minutes: 60 }\n              timeout: { minutes: 15 }\nansible:\n  rhaap:\n    baseUrl: { $AAP_URL }\n    token: { $AAP_TOKEN }\n    checkSSL: false\n</code></pre>"},{"location":"plugins/catalog/#features","title":"Features","text":"<p>This plugin provides the following synchronization capabilities:</p>"},{"location":"plugins/catalog/#user-team-and-organization-sync","title":"User, Team, and Organization Sync","text":"<ul> <li>Synchronizes AAP users as Backstage <code>User</code> entities</li> <li>Synchronizes AAP teams as Backstage <code>Group</code> entities</li> <li>Synchronizes AAP organizations as Backstage <code>Group</code> entities</li> <li>Creates dynamic <code>aap-admins</code> group for superusers</li> <li>Maintains group membership relationships</li> </ul> <p>For detailed configuration and usage of user, team, and organization synchronization, see the Users, Teams, and Organizations Documentation.</p>"},{"location":"plugins/catalog/#job-template-sync","title":"Job Template Sync","text":"<ul> <li>Synchronizes AAP job templates as executable Backstage <code>Template</code> entities</li> <li>Supports job templates with surveys and dynamic form generation</li> <li>Enables direct job execution from Backstage interface</li> <li>Provides filtering by organization, labels, and survey status</li> </ul> <p>For detailed configuration and usage of job template synchronization, see the Job Template Documentation.</p>"},{"location":"plugins/scaffolder/","title":"scaffolder-backend-module-backstage-rhaap","text":"<p>The scaffolder-backend-module-backstage-rhaap plugin scaffolds an Ansible collection or playbook project and adds the repo to source control. The scaffolder is dependent on ansible-devtools-server.</p> <p>Note: This plugin was created through the Backstage CLI</p>"},{"location":"plugins/scaffolder/#installation-with-upstream-backstage","title":"Installation - with upstream backstage","text":"<p>The plugin is tested with backstage version '1.27.7'</p>"},{"location":"plugins/scaffolder/#setup-backstage","title":"Setup backstage","text":"<pre><code>git clone git@github.com:backstage/backstage.git\ncd backstage\nyarn install\n</code></pre> <p>Note: This has neen tested with node version v18.19.0.</p>"},{"location":"plugins/scaffolder/#configure-backstage-with-the-github-authentication","title":"Configure Backstage with the GitHub authentication","text":"<p>Refer https://backstage.io/docs/auth/github/provider</p>"},{"location":"plugins/scaffolder/#add-the-package","title":"Add the package","text":"<pre><code># From your Backstage root directory\nyarn --cwd packages/backend add @ansible/plugin-scaffolder-backend-module-backstage-rhaap\n</code></pre> <p>Or</p> <pre><code>cd plugins/scaffolder-backend-module-backstage-rhaap\nyarn install\n</code></pre> <ol> <li>Manually copy the <code>plugins/scaffolder-backend-module-backstage-rhaap</code> directory to the    <code>plugins</code> folder in the backstage root directory.</li> <li>Update the    <code>packages/backend/package.json</code> file in the backstage root directory to    add the dependencies under the <code>dependencies</code> sections as follows:</li> </ol> <pre><code>     \"@backstage/plugin-azure-sites-common\": \"workspace:^\",\n+    \"@ansible/plugin-scaffolder-backend-module-backstage-rhaap\": \"^x.y.z\",\n     \"@backstage/plugin-badges-backend\": \"workspace:^\",\n</code></pre>"},{"location":"plugins/scaffolder/#adding-the-plugin-to-the-correct-places-to-register-the-scaffolder-plugin","title":"Adding the plugin to the correct places to register the scaffolder plugin","text":"<p>Register the custom action provided by <code>plugin-scaffolder-backend-module-backstage-rhaap</code> in the scaffolder backend by applying the below diff in the <code>packages/backend-legacy/src/plugins</code> file.</p> <pre><code>% git diff packages/backend-legacy/src/plugins/scaffolder.ts\ndiff --git a/packages/backend-legacy/src/plugins/scaffolder.ts b/packages/backend-legacy/src/plugins/scaffolder.ts\nindex a2aa1044066c..191ab4fcfa4f 100644\n--- a/packages/backend-legacy/src/plugins/scaffolder.ts\n+++ b/packages/backend-legacy/src/plugins/scaffolder.ts\n@@ -23,7 +23,7 @@ import { Router } from 'express';\n import type { PluginEnvironment } from '../types';\n import { ScmIntegrations } from '@backstage/integration';\n import { createConfluenceToMarkdownAction } from '@backstage/plugin-scaffolder-backend-module-confluence-to-markdown';\n-\n+import { createAnsibleContentAction } from '@ansible/plugin-scaffolder-backend-module-backstage-rhaap';\n export default async function createPlugin(\n   env: PluginEnvironment,\n ): Promise&lt;Router&gt; {\n@@ -47,6 +47,7 @@ export default async function createPlugin(\n       config: env.config,\n       reader: env.reader,\n     }),\n+    createAnsibleContentAction(env.config, env.logger),\n   ];\n\n   return await createRouter({\n</code></pre> <p>Register custom action in packages/backend-legacy/src/plugins/backend/src/index.ts by applying the below diff in file <code>packages/backend/src/index.ts</code></p> <pre><code>diff --git a/packages/backend/src/index.ts b/packages/backend/src/index.ts\nindex a4acd19cf207..39ec727dbc18 100644\n--- a/packages/backend/src/index.ts\n+++ b/packages/backend/src/index.ts\n@@ -15,7 +15,8 @@\n  */\n\n import { createBackend } from '@backstage/backend-defaults';\n const backend = createBackend();\n\n backend.add(import('@backstage/plugin-auth-backend'));\n@@ -47,5 +48,8 @@ backend.add(import('@backstage/plugin-search-backend/alpha'));\n backend.add(import('@backstage/plugin-techdocs-backend/alpha'));\n backend.add(import('@backstage/plugin-signals-backend'));\n backend.add(import('@backstage/plugin-notifications-backend'));\n+backend.add(\n+  import('@ansible/plugin-scaffolder-backend-module-backstage-rhaap'),\n+);\n\n backend.start();\n</code></pre>"},{"location":"plugins/scaffolder/#setting-up-the-community-ansible-dev-tools-service","title":"Setting up the community-ansible-dev-tools service","text":"<pre><code>\u276f podman pull ghcr.io/ansible/community-ansible-dev-tools:latest\nTrying to pull ghcr.io/ansible/community-ansible-dev-tools:latest...\nGetting image source signatures\nWriting manifest to image destination\nbf2da01c9e75d209f8cc7db3c2add706903292a53c34b68f456b1a7b2caae9de\n\n\u276f podman run -d -p 8000:8000 --name=ansible-devtools-server ghcr.io/ansible/community-ansible-dev-tools:latest adt server\nc42ff7b0b083e5388bbbaa0d2bf3969ef29d9c5dfd193621dec596139cc4bddc\n\n# For v1 API\n\u276f curl -v -O -J --header \"Content-Type: application/json\" \\\n  --data '{\"collection\":\"namespace.name\", \"project\": \"collection\"}' \\\n  \"localhost:8000/v1/creator/collection\"\n* processing: localhost:8000/v1/creator/collection\n&gt; Host: localhost:8000\n\n# For v2 API\n\u276f curl -v -O -J --header \"Content-Type: application/json\" \\\n  --data '{\"collection\":\"namespace.name\", \"project\": \"collection\"}' \\\n  \"localhost:8000/v2/creator/collection\"\n* processing: localhost:8000/v2/creator/collection\n&gt; Host: localhost:8000\n...\n&lt; Content-Disposition: attachment; filename=\"namespace.name.tar\"\n&lt;\n{ [24769 bytes data]\n100 24825  100 24769  100    56   251k    581 --:decrement:-- --:decrement:-- --:decrement:--  252k\n* Closing connection\n\n# For v1 API\n\u276f curl -v -O -J --header \"Content-Type: application/json\" \\\n  --data '{\"project\":\"ansible-project\", \"scm_org\":\"ansible\", \"scm_project\": \"devops\"}' \\\n  \"localhost:8000/v1/creator/playbook\"\n* processing: localhost:8000/v1/creator/playbook\n&gt; Host: localhost:8000\n\n# For v2 API\n\u276f curl -v -O -J --header \"Content-Type: application/json\" \\\n  --data '{\"project\":\"ansible-project\", \"namespace\":\"ansible\", \"collection_name\": \"devops\"}' \\\n  \"localhost:8000/v2/creator/playbook\"\n* processing: localhost:8000/v2/creator/playbook\n&gt; Host: localhost:8000\n...\n&lt; Content-Disposition: attachment; filename=\"ansible.devops.tar\"\n&lt;\n{ [24769 bytes data]\n100 24825  100 24769  100    56   251k    581 --:decrement:-- --:decrement:-- --:decrement:--  252k\n* Closing connection\n\n\u276f ls\n namespace.name.tar\n ansible.devops.tar\n</code></pre>"},{"location":"plugins/scaffolder/#add-ansible-rhdh-templates-reference-in-app-configyaml","title":"Add ansible-rhdh-templates reference in app-config.yaml","text":"<p>This loads the templates from the <code>ansible-rhdh-templates</code> repository in Templates.</p> <pre><code>diff --git a/app-config.yaml b/app-config.yaml\nindex cb701705411b..efca1acfd19b 100644\n--- a/app-config.yaml\n+++ b/app-config.yaml\n@@ -200,7 +200,7 @@ allure:\n integrations:\n   github:\n     - host: github.com\n@@ -305,6 +305,21 @@ catalog:\n       target: ../../plugins/scaffolder-backend/sample-templates/all-templates.yaml\n       rules:\n         - allow: [Template]\n+    - type: url\n+      target: https://github.com/ansible/ansible-rhdh-templates/blob/main/all.yaml\n+      rules:\n+        - allow: [Template]\n</code></pre>"},{"location":"plugins/scaffolder/#start-scaffolder-backend","title":"Start scaffolder backend","text":"<p>Run the following commands from the root folder of the backstage.</p> <p>Backend</p> <pre><code>yarn start-backend\n</code></pre> <p>Backend - VS Code debug</p> <p>Enable &gt; Auto Attach: With Flag</p> <pre><code>yarn start-backend --inspect\n</code></pre>"},{"location":"plugins/scaffolder/#installation-with-rhdh","title":"Installation - with rhdh","text":"<p>Refer to the step mentioned here https://github.com//blob/main/docs/dynamic-plugins/packaging-dynamic-plugins.md</p>"},{"location":"plugins/scaffolder/#plugin-registration-with","title":"Plugin registration with","text":"<ul> <li>Update the following section in the <code>app-config.local.yaml</code> file.</li> </ul> <pre><code>dynamicPlugins:\n  backend:\n    ansible.plugin-scaffolder-backend-module-backstage-rhaap: null\n</code></pre>"},{"location":"plugins/scaffolder/#required-steps-to-enable-other-dependent-actions","title":"Required steps to enable other dependent actions","text":"<pre><code>diff --git a/packages/backend/package.json b/packages/backend/package.json\nindex d05d495..92424f9 100644\n--- a/packages/backend/package.json\n+++ b/packages/backend/package.json\n@@ -47,11 +47,11 @@\n     \"@backstage/plugin-search-backend-node\": \"1.2.17\",\n     \"@internal/plugin-dynamic-plugins-info-backend\": \"*\",\n     \"@internal/plugin-scalprum-backend\": \"*\",\n+    \"@backstage/plugin-scaffolder-backend-module-github\": \"0.2.6\",\n     \"@janus-idp/backstage-plugin-rbac-backend\": \"2.4.1\",\n     \"@janus-idp/backstage-plugin-rbac-node\": \"1.0.3\",\n     \"@manypkg/get-packages\": \"2.2.0\",\n     \"app\": \"*\",\n     \"better-sqlite3\": \"9.3.0\",\n     \"express\": \"4.19.2\",\n     \"express-prom-bundle\": \"6.6.0\",\n</code></pre> <ul> <li>To register action with ID 'publish:github' we need to patch backend/src/index.ts</li> </ul> <pre><code>diff --git a/packages/backend/src/index.ts b/packages/backend/src/index.ts\nindex c679098..c67b5ff 100644\n--- a/packages/backend/src/index.ts\n+++ b/packages/backend/src/index.ts\n@@ -65,7 +65,7 @@ backend.add(\n );\n backend.add(dynamicPluginsFrontendSchemas());\n backend.add(dynamicPluginsRootLoggerServiceFactory());\n-\n+backend.add(import('@backstage/plugin-scaffolder-backend-module-github'));\n backend.add(import('@backstage/plugin-app-backend/alpha'));\n backend.add(\n   import('@backstage/plugin-catalog-backend-module-scaffolder-entity-model'),\n</code></pre>"},{"location":"plugins/scaffolder/#start-the-backend-by-running-the-command-in-the-root-folder-of-rhdh","title":"Start the backend by running the command in the root folder of <code>rhdh</code>","text":"<p>cloned repository path.</p> <pre><code>LOG_LEVEL=debug yarn start-backend\n</code></pre>"},{"location":"plugins/scaffolder/#creator-service-configuration-and-devspaces-configuration","title":"Creator service configuration and DevSpaces configuration","text":"<p>Add the devSpaces and creatorService in the <code>app-config.yaml</code> file. The devSpaces baseUrl is optional. It adds the Ansible DevSpaces option to the Catalog UI.</p> <pre><code>ansible:\n  devSpaces:\n    baseUrl: 'https://devspaces.apps.ansible-rhdh.testing.ansible.com/'\n  creatorService:\n    baseUrl: '127.0.0.1'\n    port: '8000'\n</code></pre> <pre><code>catalog:\n  stitchingStrategy:\n    immediate: true\n  orphanStrategy: delete\n  processingInterval: { seconds: 10 }\n  pollingInterval: { seconds: 1 }\n  stitchTimeout: { minutes: 1 }\n  import:\n    entityFilename: catalog-info.yaml\n    pullRequestBranchName: backstage-integration\n  rules:\n    - allow:\n        [Component, System, Group, Resource, Location, Template, API, Users]\n  locations:\n    - type: url\n      target: https://github.com/ansible/ansible-rhdh-templates/blob/main/all.yaml\n      rules:\n        - allow: [Template]\n  providers:\n    rhaap:\n      dev:\n        schedule:\n          frequency: { minutes: 30 }\n          timeout: { seconds: 5 }\nansible:\n  rhaap:\n    baseUrl: { $AAP_URL }\n    checkSSL: false\n</code></pre>"},{"location":"plugins/self-service/","title":"self-service","text":"<p>The self-service plugin is the frontend plugin for Red Hat Ansible Automation Platform. First page (catalog) is available at <code>/self-service/catalog</code>.</p> <p>To be fully functional, it requires other plugins for Red Hat Ansible Automation Platform:</p> <ul> <li>auth--backend-module-rhaap-provider</li> <li>catalog-backend-module-rhaap</li> <li>scaffolder-backend-module-backstage-rhaap</li> </ul>"},{"location":"plugins/self-service/#getting-started","title":"Getting started","text":"<p>Your plugin has been added to the example app in this repository, meaning you'll be able to access it by running <code>yarn start</code> in the root directory, and then navigating to /self-service.</p> <p>You can also serve the plugin in isolation by running <code>yarn start</code> in the plugin directory. This method of serving the plugin provides quicker iteration speed and a faster startup and hot reloads. It is only meant for local development, and the setup for it can be found inside the /dev directory.</p>"},{"location":"plugins/self-service/#installation","title":"Installation","text":"<p>Build plugin as a dynamic plugin. Then configure your Ansible Self-Service to load tar.gz with the plugin.</p>"},{"location":"plugins/self-service/#rhdh","title":"RHDH","text":"<p>Fragment for <code>app-config.local.yaml</code>:</p> <pre><code>dynamicPlugins:\n  frontend:\n    ansible.plugin-backstage-self-service:\n      dynamicRoutes:\n        - importName: SelfServicePage\n          path: /self-service/*\n</code></pre>"},{"location":"plugins/self-service/#additional-configuration-for-sidebar","title":"Additional configuration for sidebar","text":"<p>Add this to your app-config-*.yaml:</p> <pre><code>app:\n  branding:\n    fullLogo: data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MzIuNjYiIGhlaWdodD0iMjM5LjE5IiB2aWV3Qm94PSIwIDAgOTMyLjY2IDIzOS4xOSI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGc+CiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMjcuNyw4My40OGMxMi42MywwLDMwLjc2LTIuNDcsMzAuNzYtMTcuNTgsMC0xLjEsMC0yLjItLjI3LTMuNTdsLTcuNDEtMzIuNDFjLTEuNjUtNy4xNC0zLjMtMTAuNDQtMTUuOTMtMTYuNzVDMTI0Ljk1LDguMjQsMTAzLjgxLDAsOTcuNDksMGMtNS43NywwLTcuNDEsNy40MS0xNC41NSw3LjQxLTYuNTksMC0xMS44MS01Ljc3LTE3Ljg1LTUuNzdzLTkuODksNC4xMi0xMi45MSwxMi42M2MwLDAtOC41MSwyMy44OS05LjYxLDI3LjE5LS4yNy41NS0uMjcsMS4zNy0uMjcsMS45MiwwLDkuNjEsMzYuNTIsNDAuMDksODUuNDEsNDAuMDlNMTYwLjM4LDcxLjk1YzEuNjUsOC4yNCwxLjY1LDkuMDYsMS42NSwxMC4xNiwwLDE0LjAxLTE1LjkzLDIxLjk3LTM2LjUyLDIxLjk3LTQ2Ljk2LDAtODguMTUtMjcuNDYtODguMTUtNDUuODYsMC0yLjQ3LjU1LTQuOTQsMS42NS03LjQxQzIxLjk3LDUxLjksMCw1NC45MiwwLDc0LjE1YzAsMzEuODYsNzQuOTcsNzAuODUsMTM0LjI5LDcwLjg1LDQ1LjU5LDAsNTcuMTItMjAuNiw1Ny4xMi0zNi44LDAtMTIuOTEtMTAuOTgtMjcuNDYtMzEuMDMtMzYuMjUiLz4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTU4Mi40Nyw5Mi44MmMwLDEyLjA4LDcuMTQsMTcuODUsMjAuMzIsMTcuODUsNC4xMiwwLDcuOTYtLjU1LDEyLjA4LTEuNjV2LTEzLjczYy0yLjQ3LjgyLTUuMjIsMS4xLTcuNjksMS4xLTUuNDksMC03LjQxLTEuNjUtNy40MS02Ljg3di0yMS4xNWgxNS42NXYtMTQuMjhoLTE1LjY1di0xOC4xM2wtMTcuMDMsMy41N3YxNC4yOGgtMTEuMjZ2MTQuMjhoMTEuMjZ2MjQuNzJoLS4yN1pNNTI5LjIsOTMuMzdjMC0zLjU3LDMuODQtNS40OSw5LjM0LTUuNDksMy4zLDAsNi44Ny41NSwxMC4xNiwxLjM3djcuMTRjLTMuMywxLjkyLTYuODcsMi43NS0xMC43MSwyLjc1LTUuNDktLjI3LTguNzktMi40Ny04Ljc5LTUuNzdNNTM0LjQxLDExMC45NWM2LjA0LDAsMTAuOTgtMS4zNywxNS4zOC00LjM5djMuM2gxNy4wM3YtMzUuOThjMC0xMy43My05LjA2LTIxLjE1LTI0LjQ0LTIxLjE1LTguNTEsMC0xNy4wMywxLjkyLTI2LjA5LDYuMDRsNi4wNCwxMi42M2M2LjU5LTIuNzUsMTIuMDgtNC4zOSwxNy4wMy00LjM5LDcuMTQsMCwxMC43MSwyLjc1LDEwLjcxLDguMjR2Mi43NWMtNC4xMi0xLjEtOC41MS0xLjY1LTEyLjYzLTEuNjUtMTQuMjgsMC0yMy4wNyw2LjA0LTIzLjA3LDE2Ljc1LS4yNywxMC40NCw3LjQxLDE3Ljg1LDIwLjA1LDE3Ljg1TTQ0MS4zMiwxMTAuMTJoMTguMTN2LTI5LjExaDMwLjQ4djI5LjExaDE4LjEzVjM1Ljk4aC0xOC4xM3YyOC41NmgtMzAuNDh2LTI4LjU2aC0xOC4xM3Y3NC4xNVpNMzcyLjExLDgxLjg0YzAtNy45Niw2LjMyLTE0LjI4LDE0LjgzLTE0LjI4LDQuMzksMCw4LjUxLDEuMzcsMTEuODEsNC4zOXYxOS41Yy0zLjMsMy4wMi03LjQxLDQuNjctMTEuODEsNC4zOS04LjI0LjI3LTE0LjgzLTUuNzctMTQuODMtMTQuMDFNMzk4Ljc1LDExMC4xMmgxNy4wM1YzMi40MWwtMTcuMDMsMy41N3YyMS4xNWMtNC4zOS0yLjQ3LTkuMzQtMy44NC0xNC4yOC0zLjU3LTE2LjIsMC0yOS4xMSwxMi42My0yOS4xMSwyOC41Ni0uMjcsMTUuNjUsMTIuMzYsMjguNTYsMjguMDEsMjguODRoLjU1YzUuNDksMCwxMC43MS0xLjY1LDE1LjEtNC45NGwtLjI3LDQuMTJaTTMyMS4zMSw2Ny4wMWM1LjQ5LDAsOS44OSwzLjU3LDExLjgxLDguNzloLTIzLjM0YzEuNjUtNS40OSw1Ljc3LTguNzksMTEuNTMtOC43OU0yOTIuNDcsODIuMTFjMCwxNi4yLDEzLjQ2LDI5LjExLDMwLjQ4LDI5LjExLDkuMzQsMCwxNi4yLTIuNDcsMjMuMzQtOC41MWwtMTEuMjYtMTAuMTZjLTIuNzUsMi43NS02LjU5LDQuMTItMTEuMjYsNC4xMi02LjA0LjI3LTExLjUzLTMuMy0xMy43My04Ljc5aDM5Ljgydi00LjEyYzAtMTcuODUtMTEuODEtMzAuNDgtMjguMjktMzAuNDgtMTUuOTMtLjI3LTI4Ljg0LDEyLjM2LTI5LjExLDI4LjI5LDAsMCwwLC4yNywwLC41NU0yNjIuODEsNTEuMzVjNi4wNCwwLDkuMzQsMy44NCw5LjM0LDguMjRzLTMuMyw4LjI0LTkuMzQsOC4yNGgtMTcuODV2LTE2Ljc1aDE3Ljg1di4yN1pNMjI2Ljg0LDEwOS44NWgxOC4xMnYtMjYuOTFoMTMuNzNsMTQuMDEsMjYuOTFoMjAuMzJsLTE2LjItMjkuNjZjOC41MS0zLjU3LDE0LjAxLTExLjgxLDE0LjAxLTIwLjg3LDAtMTMuNDYtMTAuNDQtMjMuNjItMjYuMDktMjMuNjJoLTM3Ljl2NzQuMTVaIi8+CiAgPC9nPgogIDxnPgogICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMjE5LDIzOC4wN2wzMi4yNi03OC40aDE2LjEzbDMyLjAzLDc4LjRoLTE1LjAxbC04LjYyLTIxLjg0aC0zMy44MmwtOC42MiwyMS44NGgtMTQuMzRaTTI0Ni40NCwyMDQuOTJoMjUuMDlsLTEyLjU0LTMxLjgxLTEyLjU0LDMxLjgxWiIvPgogICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMzA1LjU4LDIzOC4wN3YtNTcuNjhoMTMuMXY1LjM4YzQuNC00LjMzLDEwLTYuNSwxNi44LTYuNSw0LjQsMCw4LjMxLjk3LDExLjcsMi45MSwzLjQsMS45NCw2LjA3LDQuNjEsOC4wMSw4LjAxLDEuOTQsMy40LDIuOTEsNy4zNywyLjkxLDExLjkzdjM1Ljk1aC0xMy4xdi0zMy45NGMwLTQuMTgtMS4yLTcuNDctMy41OC05Ljg2LTIuMzktMi4zOS01LjYtMy41OC05LjYzLTMuNTgtMi44NCwwLTUuMzYuNTgtNy41NiwxLjc0LTIuMiwxLjE2LTQuMDUsMi43OC01LjU0LDQuODd2NDAuNzdoLTEzLjFaIi8+CiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0zOTEuMDMsMjM5LjE5Yy01LjE1LDAtOS45My0uNzEtMTQuMzQtMi4xMy00LjQxLTEuNDItOC4yMS0zLjQ3LTExLjQyLTYuMTZsNi43Mi04Ljc0YzMuMjEsMi4zOSw2LjM2LDQuMTYsOS40Niw1LjMyLDMuMSwxLjE2LDYuMjIsMS43NCw5LjM1LDEuNzQsMy43MywwLDYuNzYtLjY5LDkuMDctMi4wNywyLjMxLTEuMzgsMy40Ny0zLjE5LDMuNDctNS40MywwLTEuNzktLjY3LTMuMjEtMi4wMi00LjI2LTEuMzQtMS4wNC0zLjQ0LTEuNzktNi4yNy0yLjI0bC0xMC43NS0xLjU3Yy01Ljc1LS44Mi0xMC4wOC0yLjYzLTEyLjk5LTUuNDMtMi45MS0yLjgtNC4zNy02LjQ4LTQuMzctMTEuMDMsMC0zLjU4Ljk1LTYuNywyLjg2LTkuMzUsMS45LTIuNjUsNC42MS00LjcyLDguMTItNi4yMiwzLjUxLTEuNDksNy42Mi0yLjI0LDEyLjMyLTIuMjQsNC4xOCwwLDguMjMuNiwxMi4xNSwxLjc5LDMuOTIsMS4yLDcuNjMsMy4wMiwxMS4xNCw1LjQ5bC02LjM4LDguNjJjLTMuMjEtMi4wMi02LjI3LTMuNDktOS4xOC00LjQyLTIuOTEtLjkzLTUuODYtMS40LTguODUtMS40LTMuMTQsMC01LjY2LjYyLTcuNTYsMS44NS0xLjksMS4yMy0yLjg2LDIuODktMi44Niw0Ljk4LDAsMS44Ny42NywzLjMsMi4wMiw0LjMxLDEuMzQsMS4wMSwzLjU4LDEuNzQsNi43MiwyLjE4bDEwLjY0LDEuNTdjNS43NS43NSwxMC4xMiwyLjUyLDEzLjEsNS4zMiwyLjk5LDIuOCw0LjQ4LDYuNDQsNC40OCwxMC45MiwwLDMuNTgtMS4wOCw2Ljc4LTMuMjUsOS41OC0yLjE3LDIuOC01LjEsNS04Ljc5LDYuNjEtMy43LDEuNi03LjksMi40MS0xMi42LDIuNDFaIi8+CiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik00MzAuMzQsMTcyLjIyYy0yLjA5LDAtMy45LS43NS01LjQzLTIuMjQtMS41My0xLjQ5LTIuMy0zLjMyLTIuMy01LjQ5cy43Ny0zLjk5LDIuMy01LjQ5YzEuNTMtMS40OSwzLjM0LTIuMjQsNS40My0yLjI0czMuOTkuNzUsNS40OSwyLjI0YzEuNDksMS41LDIuMjQsMy4zMiwyLjI0LDUuNDlzLS43NSw0LTIuMjQsNS40OWMtMS40OSwxLjQ5LTMuMzIsMi4yNC01LjQ5LDIuMjRaTTQyMy44NSwyMzguMDd2LTU3LjY4aDEzLjF2NTcuNjhoLTEzLjFaIi8+CiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik00NDkuNjEsMjM4LjA3di03OC40bDEzLjEtMi4zNXYyOC4xMWM0LjctMy44OCwxMC4zLTUuODIsMTYuOC01LjgyLDUuNTIsMCwxMC40OSwxLjMzLDE0LjksMy45OCw0LjQsMi42NSw3LjksNi4yLDEwLjQ3LDEwLjY0LDIuNTgsNC40NCwzLjg2LDkuNDYsMy44NiwxNS4wNnMtMS4zMSwxMC41My0zLjkyLDE1LjAxYy0yLjYxLDQuNDgtNi4xNCw4LjA1LTEwLjU4LDEwLjctNC40NCwyLjY1LTkuNDMsMy45OC0xNC45NSwzLjk4LTMuMDYsMC02LjAzLS40Ny04LjktMS40LTIuODgtLjkzLTUuNTEtMi4yNi03LjktMy45OHY0LjQ4aC0xMi44OFpNNDc3LjYxLDIyNy42NmMzLjUxLDAsNi42My0uOCw5LjM1LTIuNDEsMi43My0xLjYsNC44OS0zLjc5LDYuNS02LjU1LDEuNi0yLjc2LDIuNDEtNS45LDIuNDEtOS40MXMtLjgtNi42NC0yLjQxLTkuNDFjLTEuNjEtMi43Ni0zLjc5LTQuOTUtNi41NS02LjU1LTIuNzYtMS42LTUuODYtMi40MS05LjMtMi40MS0yLjk5LDAtNS43Ny41NC04LjM0LDEuNjItMi41OCwxLjA4LTQuNzYsMi42My02LjU1LDQuNjV2MjQuM2MxLjcyLDEuOTQsMy45LDMuNDYsNi41NSw0LjU0LDIuNjUsMS4wOCw1LjQzLDEuNjIsOC4zNCwxLjYyWiIvPgogICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNTE4LjgyLDIzOC4wN3YtNzguNGwxMy4xLTIuMzV2ODAuNzVoLTEzLjFaIi8+CiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik01NzIuNDcsMjM5LjA4Yy01Ljc1LDAtMTAuOTItMS4zMS0xNS41MS0zLjkyLTQuNTktMi42MS04LjI1LTYuMTgtMTAuOTgtMTAuNy0yLjczLTQuNTItNC4wOS05LjU4LTQuMDktMTUuMThzMS4zMS0xMC42NCwzLjkyLTE1LjEyYzIuNjEtNC40OCw2LjEyLTguMDQsMTAuNTMtMTAuNyw0LjQtMi42NSw5LjMzLTMuOTgsMTQuNzgtMy45OHMxMC4yOCwxLjM0LDE0LjUsNC4wM2M0LjIyLDIuNjksNy41Niw2LjMzLDEwLjAyLDEwLjkyczMuNyw5LjgsMy43LDE1LjYydjMuNDdoLTQ0LjEzYy42LDIuODQsMS43Miw1LjM0LDMuMzYsNy41LDEuNjQsMi4xNywzLjczLDMuODYsNi4yNyw1LjEsMi41NCwxLjIzLDUuMjYsMS44NSw4LjE4LDEuODUsMi42OSwwLDUuMjQtLjQxLDcuNjctMS4yMywyLjQzLS44Miw0LjQ2LTIuMDIsNi4xLTMuNThsOC41MSw4LjA2Yy0zLjQ0LDIuNjktNi45OCw0LjY3LTEwLjY0LDUuOTQtMy42NiwxLjI3LTcuNzMsMS45LTEyLjIxLDEuOVpNNTU1LjExLDIwNC4wMmgzMS4yNWMtLjUyLTIuNjktMS41My01LjA0LTMuMDItNy4wNi0xLjQ5LTIuMDItMy4zLTMuNi01LjQzLTQuNzYtMi4xMy0xLjE2LTQuNDYtMS43NC03LTEuNzRzLTUuMDIuNTYtNy4yMiwxLjY4Yy0yLjIsMS4xMi00LjAzLDIuNjktNS40OSw0LjctMS40NiwyLjAyLTIuNDgsNC40MS0zLjA4LDcuMTdaIi8+CiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik02MzMuNjIsMjM4LjA3di03OC40aDM3LjYzYzUuMTUsMCw5LjY3LDEuMDEsMTMuNTUsMy4wMiwzLjg4LDIuMDIsNi45MSw0LjgzLDkuMDcsOC40NiwyLjE2LDMuNjIsMy4yNSw3Ljc4LDMuMjUsMTIuNDlzLTEuMDgsOC43NC0zLjI1LDEyLjMyYy0yLjE3LDMuNTgtNS4yMSw2LjQtOS4xMyw4LjQ2LTMuOTIsMi4wNS04LjQyLDMuMDgtMTMuNSwzLjA4aC0yMy44NnYzMC41OGgtMTMuNzhaTTY0Ny40LDE5NS44NWgyMi40YzQuMTEsMCw3LjM3LTEuMSw5LjgtMy4zLDIuNDMtMi4yLDMuNjQtNS4xMywzLjY0LTguNzlzLTEuMjEtNi41OS0zLjY0LTguNzljLTIuNDMtMi4yLTUuNjktMy4zLTkuOC0zLjNoLTIyLjR2MjQuMTlaIi8+CiAgICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik03MjkuMjcsMjM5LjE5Yy01LjY4LDAtMTAuODEtMS4zMy0xNS40LTMuOTgtNC41OS0yLjY1LTguMjMtNi4yMy0xMC45Mi0xMC43NS0yLjY5LTQuNTItNC4wMy05LjU4LTQuMDMtMTUuMThzMS4zNC0xMC42Niw0LjAzLTE1LjE4YzIuNjktNC41Miw2LjMzLTguMSwxMC45Mi0xMC43NSw0LjU5LTIuNjUsOS43Mi0zLjk4LDE1LjQtMy45OHMxMC45MiwxLjMzLDE1LjUxLDMuOThjNC41OSwyLjY1LDguMjMsNi4yNCwxMC45MiwxMC43NSwyLjY5LDQuNTIsNC4wMyw5LjU4LDQuMDMsMTUuMThzLTEuMzQsMTAuNjYtNC4wMywxNS4xOGMtMi42OSw0LjUyLTYuMzMsOC4xLTEwLjkyLDEwLjc1LTQuNTksMi42NS05Ljc2LDMuOTgtMTUuNTEsMy45OFpNNzI5LjI3LDIyNy43N2MzLjI4LDAsNi4yNS0uODIsOC45LTIuNDYsMi42NS0xLjY0LDQuNzYtMy44Niw2LjMzLTYuNjYsMS41Ny0yLjgsMi4zNS01LjkyLDIuMzUtOS4zNXMtLjc4LTYuNjQtMi4zNS05LjQxYy0xLjU3LTIuNzYtMy42OC00Ljk2LTYuMzMtNi42MS0yLjY1LTEuNjQtNS41OC0yLjQ2LTguNzktMi40NnMtNi4yNy44Mi04Ljk2LDIuNDZjLTIuNjksMS42NC00LjgsMy44NS02LjMzLDYuNjEtMS41MywyLjc2LTIuMyw1LjktMi4zLDkuNDFzLjc2LDYuNTUsMi4zLDkuMzVjMS41MywyLjgsMy42Miw1LjAyLDYuMjcsNi42NiwyLjY1LDEuNjQsNS42MiwyLjQ2LDguOSwyLjQ2WiIvPgogICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNzY5LjgxLDIzOC4wN3YtNTcuNjhoMTMuMXY2Ljk0YzEuNzktMi42MSw0LjAxLTQuNjMsNi42Ni02LjA1LDIuNjUtMS40Miw1LjYyLTIuMTMsOC45LTIuMTMsMi42MSwwLDQuNjMuMzgsNi4wNSwxLjEydjExLjY1Yy0xLjA1LS41Mi0yLjE4LS45LTMuNDItMS4xMi0xLjIzLS4yMi0yLjQ4LS4zNC0zLjc1LS4zNC0zLjE0LDAtNS45Ni44Mi04LjQ2LDIuNDYtMi41LDEuNjQtNC41LDQtNS45OSw3LjA2djM4LjA4aC0xMy4xWiIvPgogICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNODM5LjE0LDIzOS4wOGMtNS45NywwLTEwLjUxLTEuMzgtMTMuNjEtNC4xNC0zLjEtMi43Ni00LjY1LTYuNzktNC42NS0xMi4xdi0zMS4zNmgtMTIuMXYtMTEuMDloMTIuMXYtMTQuNjdsMTMuMS0zLjAydjE3LjdoMTYuNjl2MTEuMDloLTE2LjY5djI4LjU2YzAsMi44NC42Miw0Ljg1LDEuODUsNi4wNSwxLjIzLDEuMiwzLjM0LDEuNzksNi4zMywxLjc5LDEuNTcsMCwyLjk3LS4xMSw0LjItLjM0LDEuMjMtLjIyLDIuNTYtLjU2LDMuOTgtMS4wMXYxMC44NmMtMS40OS41Mi0zLjMyLjkzLTUuNDksMS4yMy0yLjE3LjMtNC4wNy40NS01LjcxLjQ1WiIvPgogICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNODc2Ljk5LDIzOS4wOGMtNC4xMSwwLTcuNzUtLjc1LTEwLjkyLTIuMjQtMy4xNy0xLjQ5LTUuNjYtMy41Ni03LjQ1LTYuMjItMS43OS0yLjY1LTIuNjktNS42OS0yLjY5LTkuMTMsMC01LjUyLDIuMDctOS44Miw2LjIyLTEyLjg4LDQuMTQtMy4wNiw5Ljg0LTQuNTksMTcuMDgtNC41OSw1LjM4LDAsMTAuMzguOSwxNS4wMSwyLjY5di01LjE1YzAtMy43My0xLjEtNi41My0zLjMtOC40LTIuMi0xLjg3LTUuNDctMi44LTkuOC0yLjgtMi41NCwwLTUuMjMuMzctOC4wNiwxLjEyLTIuODQuNzUtNi4wOSwxLjk4LTkuNzQsMy43bC00LjctOS44NmM0LjQtMi4wMiw4LjU5LTMuNTMsMTIuNTQtNC41NCwzLjk2LTEuMDEsNy45NS0xLjUxLDExLjk4LTEuNTEsNy42MiwwLDEzLjUxLDEuODMsMTcuNyw1LjQ5LDQuMTgsMy42Niw2LjI3LDguODEsNi4yNywxNS40NnYzNy44NmgtMTIuODh2LTQuNTljLTIuNDYsMS45NC01LjEyLDMuMzYtNy45NSw0LjI2LTIuODQuOS01Ljk0LDEuMzQtOS4zLDEuMzRaTTg2OC4zNywyMjEuMTZjMCwyLjU0LDEuMDgsNC41NywzLjI1LDYuMSwyLjE2LDEuNTMsNS4wNCwyLjMsOC42MiwyLjMsMi43NiwwLDUuMzItLjM5LDcuNjctMS4xOCwyLjM1LS43OCw0LjQ2LTEuOTYsNi4zMy0zLjUzdi05LjE4Yy0yLjAyLS45Ny00LjEzLTEuNy02LjMzLTIuMTgtMi4yLS40OC00LjYxLS43My03LjIyLS43My0zLjgxLDAtNi44MS43NS05LjAyLDIuMjQtMi4yLDEuNS0zLjMsMy41NS0zLjMsNi4xNloiLz4KICAgIDxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTkxOS41NSwyMzguMDd2LTc4LjRsMTMuMS0yLjM1djgwLjc1aC0xMy4xWiIvPgogIDwvZz4KPC9zdmc+\n\ndynamicPlugins:\n  frontend:\n    default.main-menu-items:\n      menuItems:\n        default.mycatalog:\n          title: Browse\n          icon: home\n          to: /self-service/catalog\n          priority: 120\n        default.myitem:\n          title: My items\n          icon: category\n          to: /self-service/task/list\n          priority: 110\n        default.home:\n          title: ''\n          icon: home\n          to: /\n          priority: 100\n        default.catalog:\n          title: ''\n          icon: category\n          to: catalog\n          priority: 80\n        default.my-group:\n          title: ''\n          icon: group\n          priority: 70\n        default.apis:\n          title: ''\n          icon: extension\n          to: api-docs\n          priority: 60\n        default.learning-path:\n          title: ''\n          icon: school\n          to: learning-paths\n          priority: 50\n        default.create:\n          title: ''\n          icon: add\n          to: create\n          priority: 40\n    internal.plugin-dynamic-plugins-info:\n      appIcons:\n        - name: pluginsInfoIcon\n          importName: PluginsInfoIcon\n        - name: adminIcon\n          importName: AdminIcon\n      dynamicRoutes:\n        - path: /extensions\n          importName: DynamicPluginsInfoPage\n      menuItems:\n        admin:\n          title: 'Administration'\n          icon: adminIcon\n        plugins:\n          parent: admin\n          title: RBAC\n          to: rbac\n          icon: pluginsInfoIcon\n        licensing:\n          parent: admin\n          title: ''\n          to: licensing\n          icon: pluginsInfoIcon\n        extensions:\n          parent: admin\n          title: ''\n          to: extensions\n          icon: pluginsInfoIcon\n</code></pre>"}]}